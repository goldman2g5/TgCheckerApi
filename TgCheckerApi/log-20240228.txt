2024-02-28 00:08:12.927 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:08:13.193 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:08:13.240 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:08:13.241 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:08:13.242 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:08:13.245 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:08:13.246 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:08:13.249 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:08:13.252 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:08:13.309 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:08:13.537 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:08:13.539 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:08:13.542 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:08:13.543 +03:00 [INF] Hosting environment: Development
2024-02-28 00:08:13.544 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:08:13.658 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:08:13.6582617+03:00"
2024-02-28 00:08:13.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:08:14.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 353.0917ms
2024-02-28 00:08:14.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:08:14.204 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:08:14.208 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.2943ms
2024-02-28 00:08:14.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3993ms
2024-02-28 00:08:14.275 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:08:14.399 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.8613ms
2024-02-28 00:08:15.878 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:08:16.057 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:08:16.0571212+03:00"
2024-02-28 00:08:21.839 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:08:21.846 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:08:21.972 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:08:21.997 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:08:21.998 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 159.0502ms
2024-02-28 00:08:22.013 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=riynRm2tMRytg7mAgtZMjQ - -
2024-02-28 00:08:22.015 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:08:23.579 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:08:23.582 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:08:24.009 +03:00 [INF] Received HTTP response headers after 420.8414ms - 200
2024-02-28 00:08:24.012 +03:00 [INF] End processing HTTP request after 439.9809ms - 200
2024-02-28 00:08:24.016 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:11:08.742 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:11:08.887 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:11:08.924 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:11:08.928 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:11:08.930 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:11:08.930 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:11:08.931 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:11:08.932 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:11:08.933 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:11:08.972 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:11:09.062 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:11:09.064 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:11:09.070 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:11:09.071 +03:00 [INF] Hosting environment: Development
2024-02-28 00:11:09.072 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:11:09.150 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:11:09.1496125+03:00"
2024-02-28 00:11:09.547 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:11:09.798 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 253.4779ms
2024-02-28 00:11:09.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:11:09.810 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:11:09.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.3306ms
2024-02-28 00:11:09.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.4182ms
2024-02-28 00:11:09.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:11:10.010 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.5461ms
2024-02-28 00:11:10.687 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:11:10.860 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:11:10.8601780+03:00"
2024-02-28 00:11:13.706 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:11:13.712 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:11:13.785 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:11:13.800 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:11:13.801 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 95.1827ms
2024-02-28 00:11:13.804 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=LlGPp-Gj9j6M-qtt6phJgA - -
2024-02-28 00:11:13.805 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:11:19.152 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:11:19.156 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:11:19.585 +03:00 [INF] Received HTTP response headers after 422.4822ms - 200
2024-02-28 00:11:19.588 +03:00 [INF] End processing HTTP request after 443.6567ms - 200
2024-02-28 00:11:19.593 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:12:06.623 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:12:06.763 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:12:06.821 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:12:06.827 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:12:06.828 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:12:06.830 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:12:06.830 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:12:06.831 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:12:06.832 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:12:06.872 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:12:06.965 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:12:06.967 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:12:06.970 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:12:06.971 +03:00 [INF] Hosting environment: Development
2024-02-28 00:12:06.972 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:12:07.044 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:12:07.0443992+03:00"
2024-02-28 00:12:07.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:12:07.838 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 262.8879ms
2024-02-28 00:12:07.842 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:12:07.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:12:07.853 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.5567ms
2024-02-28 00:12:07.865 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.2992ms
2024-02-28 00:12:07.922 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:12:08.050 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.2107ms
2024-02-28 00:12:08.528 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:12:08.684 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:12:08.6848439+03:00"
2024-02-28 00:12:09.225 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:12:09.231 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:12:09.295 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:12:09.308 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:12:09.309 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 83.4392ms
2024-02-28 00:12:09.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=iVRlGLX4hQniOMMddH0NJw - -
2024-02-28 00:12:09.312 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:12:17.076 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:12:17.080 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:12:17.381 +03:00 [INF] Received HTTP response headers after 294.8919ms - 200
2024-02-28 00:12:17.384 +03:00 [INF] End processing HTTP request after 314.4266ms - 200
2024-02-28 00:12:17.389 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:14:22.194 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 215
2024-02-28 00:14:22.197 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:14:22.202 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:14:22.239 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:14:22.352 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-28 00:14:22.410 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 163.2926ms
2024-02-28 00:14:22.412 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:14:22.416 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 215 - 400 259 application/problem+json;+charset=utf-8 221.3848ms
2024-02-28 00:14:41.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - -
2024-02-28 00:14:41.062 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:41.067 +03:00 [INF] Route matched with {action = "GetChannelsByUser", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TgCheckerApi.Models.BaseModels.Channel]]] GetChannelsByUser(Int64) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:14:41.474 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
LEFT JOIN "User" AS u ON c."user" = u.id
WHERE u.telegram_id = @__userId_0
2024-02-28 00:14:41.483 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:14:41.488 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi) in 418.6817ms
2024-02-28 00:14:41.490 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:41.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - - - 404 161 application/problem+json;+charset=utf-8 444.3104ms
2024-02-28 00:14:42.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/api/Channel/109 - -
2024-02-28 00:14:42.933 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi)'
2024-02-28 00:14:42.938 +03:00 [INF] Route matched with {action = "GetChannel", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TgCheckerApi.Models.GetModels.ChannelGetModel]] GetChannel(Int32) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:14:43.034 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
WHERE c.id = @__p_0
LIMIT 1
2024-02-28 00:14:43.038 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:14:43.040 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi) in 99.9391ms
2024-02-28 00:14:43.041 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi)'
2024-02-28 00:14:43.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/api/Channel/109 - - - 404 161 application/problem+json;+charset=utf-8 112.1849ms
2024-02-28 00:14:43.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/api/Channel/109 - -
2024-02-28 00:14:43.883 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi)'
2024-02-28 00:14:43.884 +03:00 [INF] Route matched with {action = "GetChannel", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TgCheckerApi.Models.GetModels.ChannelGetModel]] GetChannel(Int32) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:14:43.891 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
WHERE c.id = @__p_0
LIMIT 1
2024-02-28 00:14:43.894 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:14:43.895 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi) in 9.1139ms
2024-02-28 00:14:43.897 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannel (TgCheckerApi)'
2024-02-28 00:14:43.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/api/Channel/109 - - - 404 161 application/problem+json;+charset=utf-8 15.6748ms
2024-02-28 00:14:45.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - -
2024-02-28 00:14:45.443 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:45.444 +03:00 [INF] Route matched with {action = "GetChannelsByUser", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TgCheckerApi.Models.BaseModels.Channel]]] GetChannelsByUser(Int64) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:14:45.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
LEFT JOIN "User" AS u ON c."user" = u.id
WHERE u.telegram_id = @__userId_0
2024-02-28 00:14:45.452 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:14:45.453 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi) in 7.1087ms
2024-02-28 00:14:45.455 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:45.456 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - - - 404 161 application/problem+json;+charset=utf-8 14.9612ms
2024-02-28 00:14:46.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - -
2024-02-28 00:14:46.559 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:46.560 +03:00 [INF] Route matched with {action = "GetChannelsByUser", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TgCheckerApi.Models.BaseModels.Channel]]] GetChannelsByUser(Int64) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:14:46.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
LEFT JOIN "User" AS u ON c."user" = u.id
WHERE u.telegram_id = @__userId_0
2024-02-28 00:14:46.568 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:14:46.569 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi) in 6.1942ms
2024-02-28 00:14:46.570 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.GetChannelsByUser (TgCheckerApi)'
2024-02-28 00:14:46.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/api/Channel/ByUser/5895397465 - - - 404 161 application/problem+json;+charset=utf-8 13.3541ms
2024-02-28 00:15:02.210 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Channel/Bump/109 - 0
2024-02-28 00:15:02.211 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.ChannelController.BumpChannel (TgCheckerApi)'
2024-02-28 00:15:02.215 +03:00 [INF] Route matched with {action = "BumpChannel", controller = "Channel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BumpChannel(Int32) on controller TgCheckerApi.Controllers.ChannelController (TgCheckerApi).
2024-02-28 00:15:02.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
WHERE c.id = @__p_0
LIMIT 1
2024-02-28 00:15:02.225 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-28 00:15:02.226 +03:00 [INF] Executed action TgCheckerApi.Controllers.ChannelController.BumpChannel (TgCheckerApi) in 8.6742ms
2024-02-28 00:15:02.227 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.ChannelController.BumpChannel (TgCheckerApi)'
2024-02-28 00:15:02.228 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Channel/Bump/109 - 0 - 404 161 application/problem+json;+charset=utf-8 17.6349ms
2024-02-28 00:15:44.445 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 00:15:44.448 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 00:15:44.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=iVRlGLX4hQniOMMddH0NJw - - - 101 - - 215220.8656ms
2024-02-28 00:17:10.847 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:17:11.007 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:17:11.044 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:17:11.048 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:17:11.049 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:17:11.050 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:17:11.051 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:17:11.052 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:17:11.053 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:17:11.093 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:17:11.179 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:17:11.179 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:17:11.186 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:17:11.187 +03:00 [INF] Hosting environment: Development
2024-02-28 00:17:11.188 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:17:11.263 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:17:11.2633110+03:00"
2024-02-28 00:17:11.732 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:17:12.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 270.1170ms
2024-02-28 00:17:12.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:17:12.009 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:17:12.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.2112ms
2024-02-28 00:17:12.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.0458ms
2024-02-28 00:17:12.087 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:17:12.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.8488ms
2024-02-28 00:17:12.792 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:17:12.987 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:17:12.9873209+03:00"
2024-02-28 00:17:21.301 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:17:21.304 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:17:21.640 +03:00 [INF] Received HTTP response headers after 328.7911ms - 200
2024-02-28 00:17:21.643 +03:00 [INF] End processing HTTP request after 352.7379ms - 200
2024-02-28 00:17:21.648 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:18:09.307 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:18:09.314 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:18:09.408 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:18:09.428 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:18:09.433 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 126.2510ms
2024-02-28 00:18:09.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=Ru5cmlbf4_tmlDxTLhhL9A - -
2024-02-28 00:18:09.443 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:18:27.868 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 00:18:27.873 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 00:18:27.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=Ru5cmlbf4_tmlDxTLhhL9A - - - 101 - - 18475.5102ms
2024-02-28 00:19:10.298 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 00:19:10.301 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:19:10.310 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:19:10.339 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:19:10.453 +03:00 [INF] Start processing HTTP request POST "http://http//127.0.0.1:8000//send_notifications"
2024-02-28 00:19:10.454 +03:00 [INF] Sending HTTP request POST "http://http//127.0.0.1:8000//send_notifications"
2024-02-28 00:19:12.879 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 2531.9505ms
2024-02-28 00:19:12.882 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:19:12.886 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: No such host is known. (http:80)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at TgCheckerApi.Services.NotificationService.SendTelegramNotificationAsync(TelegramNotification notificationModel) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Services\NotificationService.cs:line 102
   at TgCheckerApi.Controllers.NotificationController.SendNotification(TelegramNotification model) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Controllers\NotificationController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-28 00:19:12.922 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 2623.5995ms
2024-02-28 00:23:20.228 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:23:20.229 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:23:20.230 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:23:20.247 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 18.9543ms
2024-02-28 00:23:20.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=D2VmpQllXzB-FZQcAODS8A - -
2024-02-28 00:23:20.249 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:27:00.357 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:27:00.499 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:27:00.540 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:27:00.543 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:27:00.544 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:27:00.545 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:27:00.546 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:27:00.547 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:27:00.548 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:27:00.600 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:27:00.696 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:27:00.697 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:27:00.700 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:27:00.701 +03:00 [INF] Hosting environment: Development
2024-02-28 00:27:00.702 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:27:00.782 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:27:00.7824350+03:00"
2024-02-28 00:27:00.899 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:27:01.158 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 260.9658ms
2024-02-28 00:27:01.180 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:27:01.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:27:01.187 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.9129ms
2024-02-28 00:27:01.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.2697ms
2024-02-28 00:27:01.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:27:01.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.8056ms
2024-02-28 00:27:01.872 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:27:01.877 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:27:01.955 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:27:01.984 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:27:01.989 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 116.4595ms
2024-02-28 00:27:02.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=hwluqxHnMygF3DWH9xYEzA - -
2024-02-28 00:27:02.005 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:27:02.405 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:27:02.565 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:27:02.5657431+03:00"
2024-02-28 00:27:10.775 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:27:10.780 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:27:11.090 +03:00 [INF] Received HTTP response headers after 304.3754ms - 200
2024-02-28 00:27:11.093 +03:00 [INF] End processing HTTP request after 324.6014ms - 200
2024-02-28 00:27:11.097 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:29:11.811 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 00:29:11.814 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:29:11.826 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:29:11.861 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:29:11.972 +03:00 [INF] Start processing HTTP request POST "http://http//127.0.0.1:8000//send_notifications"
2024-02-28 00:29:11.973 +03:00 [INF] Sending HTTP request POST "http://http//127.0.0.1:8000//send_notifications"
2024-02-28 00:29:14.419 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 2549.7873ms
2024-02-28 00:29:14.421 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:29:14.425 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: No such host is known. (http:80)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at TgCheckerApi.Services.NotificationService.SendTelegramNotificationAsync(TelegramNotification notificationModel) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Services\NotificationService.cs:line 102
   at TgCheckerApi.Controllers.NotificationController.SendNotification(TelegramNotification model) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Controllers\NotificationController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-28 00:29:14.469 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 2657.5933ms
2024-02-28 00:30:29.178 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:30:29.334 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:30:29.379 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:30:29.383 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:30:29.384 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:30:29.385 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:30:29.386 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:30:29.387 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:30:29.389 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:30:29.432 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:30:29.525 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:30:29.529 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:30:29.533 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:30:29.534 +03:00 [INF] Hosting environment: Development
2024-02-28 00:30:29.534 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:30:29.612 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:30:29.6120281+03:00"
2024-02-28 00:30:29.967 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:30:30.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 265.8109ms
2024-02-28 00:30:30.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:30:30.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:30:30.245 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.1012ms
2024-02-28 00:30:30.255 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.1542ms
2024-02-28 00:30:30.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:30:30.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.8092ms
2024-02-28 00:30:31.239 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:30:31.275 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:30:31.280 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:30:31.345 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:30:31.358 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:30:31.359 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 84.4411ms
2024-02-28 00:30:31.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=l3wDtwH3Rpwkvy2PJZNW1Q - -
2024-02-28 00:30:31.362 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:30:31.444 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:30:31.4440278+03:00"
2024-02-28 00:30:49.397 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:30:49.541 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:30:49.582 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:30:49.586 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:30:49.587 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:30:49.588 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:30:49.589 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:30:49.589 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:30:49.590 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:30:49.628 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:30:49.714 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:30:49.715 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:30:49.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:30:49.722 +03:00 [INF] Hosting environment: Development
2024-02-28 00:30:49.723 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:30:49.802 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:30:49.8019455+03:00"
2024-02-28 00:30:50.271 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:30:50.471 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:30:50.478 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:30:50.553 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:30:50.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:30:50.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:30:50.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 294.4501ms
2024-02-28 00:30:50.565 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.6596ms
2024-02-28 00:30:50.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5942ms
2024-02-28 00:30:50.579 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:30:50.580 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 109.4794ms
2024-02-28 00:30:50.581 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=2hK6KvvEY0ZF0E8Zf7Vbtw - -
2024-02-28 00:30:50.583 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:30:50.615 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:30:50.733 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.7888ms
2024-02-28 00:30:51.358 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:30:51.538 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:30:51.5380074+03:00"
2024-02-28 00:30:59.830 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:30:59.835 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:31:00.148 +03:00 [INF] Received HTTP response headers after 306.3753ms - 200
2024-02-28 00:31:00.151 +03:00 [INF] End processing HTTP request after 329.0547ms - 200
2024-02-28 00:31:00.155 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:31:08.680 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 00:31:08.683 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:31:08.688 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:31:08.716 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:31:08.835 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:31:08.836 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:31:08.847 +03:00 [INF] Received HTTP response headers after 9.7924ms - 404
2024-02-28 00:31:08.849 +03:00 [INF] End processing HTTP request after 14.2012ms - 404
2024-02-28 00:31:08.904 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:31:08.913 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 188.4063ms
2024-02-28 00:31:08.916 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:31:08.922 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 241.3930ms
2024-02-28 00:32:00.546 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:32:00.686 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:32:00.732 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:32:00.737 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:32:00.738 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:32:00.739 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:32:00.740 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:32:00.741 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:32:00.742 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:32:00.787 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:32:00.944 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:32:00.945 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:32:00.949 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:32:00.950 +03:00 [INF] Hosting environment: Development
2024-02-28 00:32:00.951 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:32:00.983 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:32:01.015 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:32:01.021 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:32:01.0208778+03:00"
2024-02-28 00:32:01.137 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:32:01.176 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:32:01.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=i8GxhFWWw8jK_R4PaAjS_g - -
2024-02-28 00:32:01.183 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 206.9692ms
2024-02-28 00:32:01.193 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:32:01.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:32:01.449 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 194.4585ms
2024-02-28 00:32:01.452 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:32:01.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:32:01.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 2.8352ms
2024-02-28 00:32:01.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.4634ms
2024-02-28 00:32:01.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:32:01.623 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.9160ms
2024-02-28 00:32:02.620 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:32:02.784 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:32:02.7845294+03:00"
2024-02-28 00:32:10.978 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:32:10.982 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:32:11.300 +03:00 [INF] Received HTTP response headers after 311.5646ms - 200
2024-02-28 00:32:11.304 +03:00 [INF] End processing HTTP request after 332.7101ms - 200
2024-02-28 00:32:11.309 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:32:15.576 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:32:15.721 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:32:15.759 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:32:15.763 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:32:15.764 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:32:15.765 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:32:15.765 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:32:15.766 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:32:15.767 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:32:15.817 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:32:15.911 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:32:15.912 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:32:15.916 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:32:15.917 +03:00 [INF] Hosting environment: Development
2024-02-28 00:32:15.917 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:32:15.994 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:32:15.9937079+03:00"
2024-02-28 00:32:16.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:32:16.783 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 262.3084ms
2024-02-28 00:32:16.788 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:32:16.793 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:32:16.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.5372ms
2024-02-28 00:32:16.806 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.6879ms
2024-02-28 00:32:16.839 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:32:16.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.8035ms
2024-02-28 00:32:17.468 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:32:17.628 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:32:17.6288958+03:00"
2024-02-28 00:32:21.244 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:32:21.248 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:32:21.318 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:32:21.334 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:32:21.335 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 91.5193ms
2024-02-28 00:32:21.337 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=mGFB-tShiR1eQEP9fQo_3g - -
2024-02-28 00:32:21.338 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:32:24.267 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 00:32:24.270 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:32:24.273 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:32:24.308 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:32:24.501 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:32:24.505 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:32:24.579 +03:00 [INF] Received HTTP response headers after 68.5248ms - 404
2024-02-28 00:32:24.583 +03:00 [INF] End processing HTTP request after 89.4193ms - 404
2024-02-28 00:32:24.641 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:32:24.649 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 333.6148ms
2024-02-28 00:32:24.651 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:32:24.657 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 389.8064ms
2024-02-28 00:32:25.925 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:32:25.926 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:32:26.170 +03:00 [INF] Received HTTP response headers after 243.2943ms - 200
2024-02-28 00:32:26.172 +03:00 [INF] End processing HTTP request after 246.9941ms - 200
2024-02-28 00:32:26.173 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:33:31.351 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:33:31.548 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:33:31.584 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:33:31.588 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:33:31.590 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:33:31.590 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:33:31.591 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:33:31.592 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:33:31.594 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:33:31.635 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:33:31.737 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:33:31.738 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:33:31.741 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:33:31.742 +03:00 [INF] Hosting environment: Development
2024-02-28 00:33:31.743 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:33:31.822 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:33:31.8217108+03:00"
2024-02-28 00:33:31.939 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:33:31.971 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:33:32.041 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:33:32.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:33:32.080 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:33:32.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=w5QyujWeE7nyG0Y_8wUx6Q - -
2024-02-28 00:33:32.084 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 147.4282ms
2024-02-28 00:33:32.084 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:33:32.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 213.8545ms
2024-02-28 00:33:32.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:33:32.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:33:32.289 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.0687ms
2024-02-28 00:33:32.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.1314ms
2024-02-28 00:33:32.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:33:32.458 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.9240ms
2024-02-28 00:33:33.496 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:33:33.676 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:33:33.6762622+03:00"
2024-02-28 00:33:41.829 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:33:41.834 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:33:42.133 +03:00 [INF] Received HTTP response headers after 293.1789ms - 200
2024-02-28 00:33:42.136 +03:00 [INF] End processing HTTP request after 315.5692ms - 200
2024-02-28 00:33:42.141 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:33:44.303 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:33:44.306 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:33:44.320 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:33:44.352 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:33:44.471 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:33:44.472 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000//send_notifications"
2024-02-28 00:33:44.483 +03:00 [INF] Received HTTP response headers after 9.4055ms - 404
2024-02-28 00:33:44.484 +03:00 [INF] End processing HTTP request after 13.022ms - 404
2024-02-28 00:33:44.592 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:33:44.601 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 240.1947ms
2024-02-28 00:33:44.604 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:33:44.610 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 306.5820ms
2024-02-28 00:34:24.406 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:34:24.555 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:34:24.592 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:34:24.595 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:34:24.596 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:34:24.597 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:34:24.598 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:34:24.598 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:34:24.599 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:34:24.640 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:34:24.732 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:34:24.733 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:34:24.741 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:34:24.742 +03:00 [INF] Hosting environment: Development
2024-02-28 00:34:24.743 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:34:24.777 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:34:24.807 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:34:24.828 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:34:24.8276886+03:00"
2024-02-28 00:34:24.873 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:34:24.927 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:34:24.930 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 159.7396ms
2024-02-28 00:34:24.932 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=Dhg3rRoO_e6tNIdGXFs4IQ - -
2024-02-28 00:34:24.937 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:34:25.015 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:34:25.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 205.5456ms
2024-02-28 00:34:25.222 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:34:25.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:34:25.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.1339ms
2024-02-28 00:34:25.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.8669ms
2024-02-28 00:34:25.275 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:34:25.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.0254ms
2024-02-28 00:34:26.386 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:34:26.573 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:34:26.5735422+03:00"
2024-02-28 00:34:34.826 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:34:34.830 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:34:35.159 +03:00 [INF] Received HTTP response headers after 321.9825ms - 200
2024-02-28 00:34:35.163 +03:00 [INF] End processing HTTP request after 344.1859ms - 200
2024-02-28 00:34:35.167 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:34:35.915 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:34:35.917 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:34:35.930 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:34:35.958 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:34:36.083 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:34:36.084 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:34:36.099 +03:00 [INF] Received HTTP response headers after 13.991ms - 422
2024-02-28 00:34:36.100 +03:00 [INF] End processing HTTP request after 16.9775ms - 422
2024-02-28 00:34:36.161 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:34:36.171 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 204.0009ms
2024-02-28 00:34:36.174 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:34:36.179 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 263.9120ms
2024-02-28 00:38:15.164 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:38:15.166 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:38:15.175 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:15.176 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:38:15.180 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:15.181 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:15.186 +03:00 [INF] Received HTTP response headers after 4.1102ms - 422
2024-02-28 00:38:15.187 +03:00 [INF] End processing HTTP request after 7.0606ms - 422
2024-02-28 00:38:15.247 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:38:15.248 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 69.194ms
2024-02-28 00:38:15.251 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:15.252 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 87.9528ms
2024-02-28 00:38:18.901 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:38:18.930 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:38:18.934 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:18.936 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:38:18.942 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:18.943 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:18.946 +03:00 [INF] Received HTTP response headers after 1.7522ms - 422
2024-02-28 00:38:18.947 +03:00 [INF] End processing HTTP request after 5.6931ms - 422
2024-02-28 00:38:19.006 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:38:19.007 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 67.8338ms
2024-02-28 00:38:19.008 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:19.009 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 108.3876ms
2024-02-28 00:38:19.348 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:38:19.350 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:38:19.350 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:19.351 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:38:19.357 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:19.358 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:38:19.364 +03:00 [INF] Received HTTP response headers after 3.2119ms - 422
2024-02-28 00:38:19.365 +03:00 [INF] End processing HTTP request after 7.4881ms - 422
2024-02-28 00:38:19.417 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:38:19.418 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 61.2816ms
2024-02-28 00:38:19.420 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:38:19.421 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 72.7292ms
2024-02-28 00:41:46.017 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:41:46.019 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:41:46.019 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:41:46.020 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:41:46.030 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:41:46.032 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:41:46.040 +03:00 [INF] Received HTTP response headers after 6.725ms - 422
2024-02-28 00:41:46.041 +03:00 [INF] End processing HTTP request after 10.7184ms - 422
2024-02-28 00:41:46.097 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:41:46.098 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 69.6301ms
2024-02-28 00:41:46.100 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:41:46.101 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 83.8976ms
2024-02-28 00:43:12.339 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:43:12.340 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:12.341 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:12.342 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:12.345 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:12.349 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:12.354 +03:00 [INF] Received HTTP response headers after 3.9709ms - 422
2024-02-28 00:43:12.355 +03:00 [INF] End processing HTTP request after 10.1433ms - 422
2024-02-28 00:43:12.385 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:12.386 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 41.6755ms
2024-02-28 00:43:12.387 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:12.388 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 49.6664ms
2024-02-28 00:43:13.256 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:43:13.257 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:13.258 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:13.259 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:13.269 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:13.270 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:13.274 +03:00 [INF] Received HTTP response headers after 2.0834ms - 422
2024-02-28 00:43:13.276 +03:00 [INF] End processing HTTP request after 6.6305ms - 422
2024-02-28 00:43:13.302 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:13.303 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 35.1242ms
2024-02-28 00:43:13.305 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:13.305 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 49.4220ms
2024-02-28 00:43:13.747 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:43:13.749 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:13.749 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:13.750 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:13.753 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:13.754 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:13.756 +03:00 [INF] Received HTTP response headers after 1.2623ms - 422
2024-02-28 00:43:13.757 +03:00 [INF] End processing HTTP request after 4.6242ms - 422
2024-02-28 00:43:13.789 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:13.791 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 38.3574ms
2024-02-28 00:43:13.792 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:13.793 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 45.7944ms
2024-02-28 00:43:36.363 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 235
2024-02-28 00:43:36.364 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:36.365 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:36.366 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:36.369 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:36.371 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:36.376 +03:00 [INF] Received HTTP response headers after 3.8963ms - 422
2024-02-28 00:43:36.377 +03:00 [INF] End processing HTTP request after 8.3262ms - 422
2024-02-28 00:43:36.409 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:36.411 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 42.1407ms
2024-02-28 00:43:36.412 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:36.413 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 235 - 500 - text/plain;+charset=utf-8 50.1891ms
2024-02-28 00:43:45.593 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 00:43:45.594 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:45.595 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:45.596 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:45.606 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:45.607 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:45.615 +03:00 [INF] Received HTTP response headers after 6.4555ms - 422
2024-02-28 00:43:45.616 +03:00 [INF] End processing HTTP request after 10.2606ms - 422
2024-02-28 00:43:45.645 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:45.647 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 41.0259ms
2024-02-28 00:43:45.648 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:45.649 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 56.2206ms
2024-02-28 00:43:52.025 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 235
2024-02-28 00:43:52.027 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:52.028 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:52.029 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:52.033 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:52.035 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:52.047 +03:00 [INF] Received HTTP response headers after 7.2913ms - 422
2024-02-28 00:43:52.048 +03:00 [INF] End processing HTTP request after 14.7398ms - 422
2024-02-28 00:43:52.083 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:52.084 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 52.0034ms
2024-02-28 00:43:52.086 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:52.088 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 235 - 500 - text/plain;+charset=utf-8 62.1214ms
2024-02-28 00:43:55.457 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 00:43:55.458 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:43:55.459 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:55.460 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:43:55.465 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:55.467 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:43:55.469 +03:00 [INF] Received HTTP response headers after 1.2033ms - 422
2024-02-28 00:43:55.471 +03:00 [INF] End processing HTTP request after 5.2485ms - 422
2024-02-28 00:43:55.504 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:43:55.505 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 40.4712ms
2024-02-28 00:43:55.506 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:43:55.508 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 51.7478ms
2024-02-28 00:44:02.919 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 243
2024-02-28 00:44:02.921 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:44:02.922 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:02.922 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:44:02.939 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-28 00:44:02.985 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 60.427ms
2024-02-28 00:44:02.987 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:02.988 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 243 - 400 358 application/problem+json;+charset=utf-8 68.1606ms
2024-02-28 00:44:30.170 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 1366
2024-02-28 00:44:30.176 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:44:30.176 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:30.177 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:44:30.180 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-28 00:44:30.181 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 2.4441ms
2024-02-28 00:44:30.182 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:30.183 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 1366 - 400 337 application/problem+json;+charset=utf-8 13.5705ms
2024-02-28 00:44:52.871 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 00:44:52.874 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:44:52.875 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:52.875 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:44:52.878 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:44:52.879 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:44:52.884 +03:00 [INF] Received HTTP response headers after 4.1376ms - 422
2024-02-28 00:44:52.885 +03:00 [INF] End processing HTTP request after 6.6699ms - 422
2024-02-28 00:44:52.943 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:44:52.944 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 66.2635ms
2024-02-28 00:44:52.945 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:44:52.946 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 75.2128ms
2024-02-28 00:46:45.720 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:46:45.884 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:46:45.921 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:46:45.922 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:46:45.928 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:46:45.929 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:46:45.930 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:46:45.931 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:46:45.933 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:46:45.991 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:46:46.088 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:46:46.090 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:46:46.098 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:46:46.099 +03:00 [INF] Hosting environment: Development
2024-02-28 00:46:46.100 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:46:46.187 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:46:46.1869528+03:00"
2024-02-28 00:46:46.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:46:46.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 289.4564ms
2024-02-28 00:46:46.852 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:46:46.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:46:46.859 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.1554ms
2024-02-28 00:46:46.872 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.2025ms
2024-02-28 00:46:46.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:46:47.040 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.6179ms
2024-02-28 00:46:47.831 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:46:48.016 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:46:48.0164701+03:00"
2024-02-28 00:46:50.779 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:46:50.785 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:46:50.869 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:46:50.884 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:46:50.885 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 105.0503ms
2024-02-28 00:46:50.886 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=gpjk8TxwMjBuyj_5Ah2aqg - -
2024-02-28 00:46:50.888 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:46:56.186 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:46:56.190 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:46:56.554 +03:00 [INF] Received HTTP response headers after 357.6085ms - 200
2024-02-28 00:46:56.557 +03:00 [INF] End processing HTTP request after 378.5545ms - 200
2024-02-28 00:46:56.563 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:46:58.899 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:46:58.901 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:46:58.905 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:46:58.933 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:46:59.048 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:46:59.049 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:46:59.061 +03:00 [INF] Received HTTP response headers after 10.2641ms - 422
2024-02-28 00:46:59.062 +03:00 [INF] End processing HTTP request after 14.144ms - 422
2024-02-28 00:46:59.170 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:46:59.179 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 237.5629ms
2024-02-28 00:46:59.181 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:46:59.186 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 286.7401ms
2024-02-28 00:48:40.806 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:48:40.971 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:48:41.010 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:48:41.014 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:48:41.015 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:48:41.016 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:48:41.017 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:48:41.017 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:48:41.019 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:48:41.061 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:48:41.165 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:48:41.166 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:48:41.173 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:48:41.174 +03:00 [INF] Hosting environment: Development
2024-02-28 00:48:41.175 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:48:41.252 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:48:41.2524246+03:00"
2024-02-28 00:48:41.459 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:48:41.507 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:48:41.574 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:48:41.617 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:48:41.620 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 163.9506ms
2024-02-28 00:48:41.622 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=1fRg_0LdEafejHC4DzLldA - -
2024-02-28 00:48:41.627 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:48:41.710 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:48:41.912 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 201.8641ms
2024-02-28 00:48:41.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:48:41.917 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:48:41.924 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.6330ms
2024-02-28 00:48:41.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.2319ms
2024-02-28 00:48:41.997 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:48:42.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.0000ms
2024-02-28 00:48:42.845 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:48:43.024 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:48:43.0240173+03:00"
2024-02-28 00:48:51.267 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:48:51.271 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:48:51.565 +03:00 [INF] Received HTTP response headers after 287.6676ms - 200
2024-02-28 00:48:51.568 +03:00 [INF] End processing HTTP request after 308.341ms - 200
2024-02-28 00:48:51.573 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:48:57.902 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:48:57.905 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:48:57.908 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:48:57.940 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:48:58.063 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:48:58.064 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:48:58.074 +03:00 [INF] Received HTTP response headers after 9.2964ms - 422
2024-02-28 00:48:58.076 +03:00 [INF] End processing HTTP request after 12.8651ms - 422
2024-02-28 00:48:58.134 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:48:58.143 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 194.1645ms
2024-02-28 00:48:58.146 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:48:58.152 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 250.1380ms
2024-02-28 00:49:47.880 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:49:47.881 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:49:47.897 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:49:47.898 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:49:47.901 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:49:47.902 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:49:47.906 +03:00 [INF] Received HTTP response headers after 3.2535ms - 422
2024-02-28 00:49:47.907 +03:00 [INF] End processing HTTP request after 6.1987ms - 422
2024-02-28 00:49:47.965 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:49:47.967 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 66.5877ms
2024-02-28 00:49:47.968 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:49:47.969 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 89.6856ms
2024-02-28 00:49:58.024 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 87
2024-02-28 00:49:58.026 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:49:58.028 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:49:58.029 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:49:58.036 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-28 00:49:58.086 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 54.0457ms
2024-02-28 00:49:58.088 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:49:58.089 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 87 - 400 312 application/problem+json;+charset=utf-8 64.7110ms
2024-02-28 00:52:30.308 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:52:30.470 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:52:30.510 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:52:30.514 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:52:30.516 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:52:30.517 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:52:30.518 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:52:30.520 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:52:30.521 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:52:30.566 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:52:30.657 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:52:30.661 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:52:30.665 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:52:30.666 +03:00 [INF] Hosting environment: Development
2024-02-28 00:52:30.667 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:52:30.745 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:52:30.7446576+03:00"
2024-02-28 00:52:31.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:52:31.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 274.9871ms
2024-02-28 00:52:31.568 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:52:31.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:52:31.580 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.6969ms
2024-02-28 00:52:31.585 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.6620ms
2024-02-28 00:52:31.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:52:31.738 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.6746ms
2024-02-28 00:52:32.330 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:52:32.335 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:52:32.414 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:52:32.418 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:52:32.429 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:52:32.430 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 99.9427ms
2024-02-28 00:52:32.431 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=zXCEhNC2MOopKYuT2v6KJQ - -
2024-02-28 00:52:32.433 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:52:32.590 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:52:32.5909187+03:00"
2024-02-28 00:52:40.769 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:52:40.773 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:52:41.100 +03:00 [INF] Received HTTP response headers after 320.5739ms - 200
2024-02-28 00:52:41.104 +03:00 [INF] End processing HTTP request after 342.4429ms - 200
2024-02-28 00:52:41.109 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:52:59.274 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 233
2024-02-28 00:52:59.276 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:52:59.280 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:52:59.309 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:52:59.427 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:52:59.428 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:52:59.439 +03:00 [INF] Received HTTP response headers after 9.7553ms - 422
2024-02-28 00:52:59.440 +03:00 [INF] End processing HTTP request after 13.226ms - 422
2024-02-28 00:52:59.548 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:52:59.559 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 240.9984ms
2024-02-28 00:52:59.561 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:52:59.567 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 233 - 500 - text/plain;+charset=utf-8 293.1129ms
2024-02-28 00:53:05.838 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 00:53:05.840 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:53:05.853 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:53:05.854 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:53:05.858 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:53:05.859 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:53:05.864 +03:00 [INF] Received HTTP response headers after 3.7099ms - 422
2024-02-28 00:53:05.865 +03:00 [INF] End processing HTTP request after 6.9365ms - 422
2024-02-28 00:53:05.924 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:53:05.925 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 68.3252ms
2024-02-28 00:53:05.926 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:53:05.928 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 90.0109ms
2024-02-28 00:55:10.931 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 00:55:10.935 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 00:55:10.976 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=zXCEhNC2MOopKYuT2v6KJQ - - - 101 - - 158545.6306ms
2024-02-28 00:56:13.988 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:56:13.990 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:56:13.991 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:56:14.009 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=na3T7Y2zuZeUJYfk7LtgBA - -
2024-02-28 00:56:14.009 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 21.1384ms
2024-02-28 00:56:14.011 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:57:12.513 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:58:07.517 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 00:58:07.684 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 00:58:07.729 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 00:58:07.734 +03:00 [INF] Quartz Scheduler created
2024-02-28 00:58:07.735 +03:00 [INF] RAMJobStore initialized.
2024-02-28 00:58:07.736 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 00:58:07.737 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 00:58:07.739 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 00:58:07.741 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 00:58:07.784 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 00:58:07.890 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 00:58:07.891 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 00:58:07.895 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 00:58:07.896 +03:00 [INF] Hosting environment: Development
2024-02-28 00:58:07.897 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 00:58:07.976 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T00:58:07.9762037+03:00"
2024-02-28 00:58:08.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 00:58:08.853 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 286.9585ms
2024-02-28 00:58:08.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 00:58:08.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 00:58:08.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.2773ms
2024-02-28 00:58:08.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.3421ms
2024-02-28 00:58:09.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 00:58:09.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.1198ms
2024-02-28 00:58:09.554 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 00:58:09.730 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T00:58:09.7308584+03:00"
2024-02-28 00:58:10.853 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 00:58:10.860 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 00:58:10.962 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 00:58:10.978 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 00:58:10.979 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 126.0874ms
2024-02-28 00:58:10.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=A2fmcHlTBsq7giS2uvPcZA - -
2024-02-28 00:58:10.993 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 00:58:17.990 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:58:17.993 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 00:58:18.296 +03:00 [INF] Received HTTP response headers after 296.7739ms - 200
2024-02-28 00:58:18.299 +03:00 [INF] End processing HTTP request after 316.3831ms - 200
2024-02-28 00:58:18.304 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 00:58:32.763 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 00:58:32.765 +03:00 [INF] CORS policy execution successful.
2024-02-28 00:58:32.778 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:58:32.807 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 00:58:32.927 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:58:32.929 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 00:58:32.942 +03:00 [INF] Received HTTP response headers after 12.3689ms - 422
2024-02-28 00:58:32.944 +03:00 [INF] End processing HTTP request after 16.7821ms - 422
2024-02-28 00:58:33.004 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 00:58:33.014 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 198.0142ms
2024-02-28 00:58:33.017 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 00:58:33.023 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 259.4966ms
2024-02-28 01:00:11.672 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:00:11.839 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:00:11.879 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:00:11.883 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:00:11.884 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:00:11.885 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:00:11.886 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:00:11.887 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:00:11.888 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:00:11.930 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:00:12.017 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:00:12.021 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:00:12.024 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:00:12.025 +03:00 [INF] Hosting environment: Development
2024-02-28 01:00:12.026 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:00:12.104 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:00:12.1038839+03:00"
2024-02-28 01:00:12.148 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:00:12.181 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:00:12.249 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:00:12.279 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:00:12.281 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 136.1311ms
2024-02-28 01:00:12.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=lGgmu7s6Oy7-HcyYSx5QRA - -
2024-02-28 01:00:12.292 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:00:12.458 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:00:12.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 195.0032ms
2024-02-28 01:00:12.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:00:12.659 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:00:12.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.4775ms
2024-02-28 01:00:12.680 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.2240ms
2024-02-28 01:00:12.740 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:00:12.857 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.2723ms
2024-02-28 01:00:13.659 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:00:13.838 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:00:13.8388349+03:00"
2024-02-28 01:00:22.119 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:00:22.124 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:00:22.495 +03:00 [INF] Received HTTP response headers after 365.0147ms - 200
2024-02-28 01:00:22.500 +03:00 [INF] End processing HTTP request after 387.5258ms - 200
2024-02-28 01:00:22.505 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:00:25.950 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:00:25.953 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:00:25.958 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:00:25.991 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:00:26.103 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:00:26.105 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:00:26.116 +03:00 [INF] Received HTTP response headers after 9.8653ms - 500
2024-02-28 01:00:26.117 +03:00 [INF] End processing HTTP request after 13.153ms - 500
2024-02-28 01:00:26.178 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:00:26.188 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 187.7268ms
2024-02-28 01:00:26.190 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:00:26.196 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 246.5958ms
2024-02-28 01:03:28.939 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:03:28.941 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:03:28.946 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:03:28.948 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:03:28.951 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:03:28.953 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:03:28.963 +03:00 [INF] Received HTTP response headers after 8.4676ms - 422
2024-02-28 01:03:28.964 +03:00 [INF] End processing HTTP request after 13.1809ms - 422
2024-02-28 01:03:29.028 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:03:29.030 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 79.4784ms
2024-02-28 01:03:29.031 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:03:29.032 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 93.1387ms
2024-02-28 01:04:00.959 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:04:00.961 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:04:00.961 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:04:00.962 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:04:00.968 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:04:00.969 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:04:00.973 +03:00 [INF] Received HTTP response headers after 3.5515ms - 422
2024-02-28 01:04:00.974 +03:00 [INF] End processing HTTP request after 6.6187ms - 422
2024-02-28 01:04:01.033 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:04:01.034 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 69.1792ms
2024-02-28 01:04:01.036 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:04:01.038 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 78.5616ms
2024-02-28 01:07:59.133 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:07:59.295 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:07:59.348 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:07:59.353 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:07:59.354 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:07:59.356 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:07:59.357 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:07:59.358 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:07:59.359 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:07:59.402 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:07:59.495 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:07:59.496 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:07:59.500 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:07:59.501 +03:00 [INF] Hosting environment: Development
2024-02-28 01:07:59.501 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:07:59.578 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:07:59.5783798+03:00"
2024-02-28 01:08:00.009 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:08:00.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 269.0856ms
2024-02-28 01:08:00.285 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:08:00.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:08:00.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.4480ms
2024-02-28 01:08:00.304 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.7164ms
2024-02-28 01:08:00.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:08:00.497 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.4528ms
2024-02-28 01:08:01.174 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:08:01.340 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:08:01.3404676+03:00"
2024-02-28 01:08:02.645 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:08:02.650 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:08:02.722 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:08:02.736 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:08:02.737 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 92.3144ms
2024-02-28 01:08:02.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=twsUQGalboZSGRjX7NXZrQ - -
2024-02-28 01:08:02.741 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:08:09.598 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:08:09.602 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:08:10.045 +03:00 [INF] Received HTTP response headers after 436.2705ms - 200
2024-02-28 01:08:10.049 +03:00 [INF] End processing HTTP request after 458.2331ms - 200
2024-02-28 01:08:10.054 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:08:10.334 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:08:10.336 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:08:10.340 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:08:10.374 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:08:10.490 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:08:10.492 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:08:10.502 +03:00 [INF] Received HTTP response headers after 9.8589ms - 422
2024-02-28 01:08:10.504 +03:00 [INF] End processing HTTP request after 13.6418ms - 422
2024-02-28 01:08:10.612 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:08:10.621 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 239.3986ms
2024-02-28 01:08:10.624 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:08:10.629 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 295.4540ms
2024-02-28 01:08:20.516 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:08:20.518 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:08:20.523 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:08:20.525 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:08:20.528 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:08:20.529 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:08:20.535 +03:00 [INF] Received HTTP response headers after 4.2514ms - 422
2024-02-28 01:08:20.536 +03:00 [INF] End processing HTTP request after 7.4687ms - 422
2024-02-28 01:08:20.593 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:08:20.595 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 67.6977ms
2024-02-28 01:08:20.597 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:08:20.600 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 84.0736ms
2024-02-28 01:09:07.677 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:09:07.853 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:09:07.896 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:09:07.900 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:09:07.901 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:09:07.902 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:09:07.903 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:09:07.904 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:09:07.905 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:09:07.945 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:09:08.032 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:09:08.035 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:09:08.043 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:09:08.044 +03:00 [INF] Hosting environment: Development
2024-02-28 01:09:08.045 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:09:08.127 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:09:08.1266253+03:00"
2024-02-28 01:09:08.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:09:08.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 311.7324ms
2024-02-28 01:09:08.880 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:09:08.887 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:09:08.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.0010ms
2024-02-28 01:09:08.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.0900ms
2024-02-28 01:09:08.960 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:09:09.092 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.3554ms
2024-02-28 01:09:09.759 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:09:09.945 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:09:09.9450971+03:00"
2024-02-28 01:09:11.829 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:09:11.834 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:09:11.903 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:09:11.918 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:09:11.919 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 90.0933ms
2024-02-28 01:09:11.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=9GcB-sm7mT4Na_Cs3UvfeA - -
2024-02-28 01:09:11.923 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:09:18.139 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:09:18.143 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:09:18.512 +03:00 [INF] Received HTTP response headers after 364.0674ms - 200
2024-02-28 01:09:18.516 +03:00 [INF] End processing HTTP request after 383.5649ms - 200
2024-02-28 01:09:18.520 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:09:22.518 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:09:22.521 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:09:22.531 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:09:22.562 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:09:22.667 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:09:22.668 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:09:22.679 +03:00 [INF] Received HTTP response headers after 9.746ms - 422
2024-02-28 01:09:22.680 +03:00 [INF] End processing HTTP request after 13.3462ms - 422
2024-02-28 01:09:22.789 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:09:22.798 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 227.2229ms
2024-02-28 01:09:22.801 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:09:22.806 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 288.3344ms
2024-02-28 01:09:26.496 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:09:26.498 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:09:26.503 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:09:26.504 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:09:26.507 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:09:26.508 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:09:26.511 +03:00 [INF] Received HTTP response headers after 1.974ms - 422
2024-02-28 01:09:26.512 +03:00 [INF] End processing HTTP request after 5.4921ms - 422
2024-02-28 01:09:26.568 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:09:26.570 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 64.2646ms
2024-02-28 01:09:26.571 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:09:26.573 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 76.3581ms
2024-02-28 01:09:51.982 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 01:09:51.984 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 01:09:52.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=9GcB-sm7mT4Na_Cs3UvfeA - - - 101 - - 40099.4774ms
2024-02-28 01:09:54.816 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:09:54.816 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:09:54.818 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:09:54.827 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 11.0271ms
2024-02-28 01:09:54.833 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=iulXZHEPIw_52V1UW2ChLQ - -
2024-02-28 01:09:54.834 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:10:00.760 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:10:00.761 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:10:00.762 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:00.763 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:10:00.780 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:00.782 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:00.786 +03:00 [INF] Received HTTP response headers after 3.2461ms - 422
2024-02-28 01:10:00.787 +03:00 [INF] End processing HTTP request after 6.6142ms - 422
2024-02-28 01:10:00.821 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:10:00.822 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 42.7662ms
2024-02-28 01:10:00.823 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:00.824 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 64.4672ms
2024-02-28 01:10:51.437 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:10:51.438 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:10:51.439 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:51.440 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:10:51.444 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:51.445 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:51.450 +03:00 [INF] Received HTTP response headers after 3.7504ms - 422
2024-02-28 01:10:51.451 +03:00 [INF] End processing HTTP request after 7.0621ms - 422
2024-02-28 01:10:51.481 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:10:51.483 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 39.2802ms
2024-02-28 01:10:51.485 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:51.486 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 49.1443ms
2024-02-28 01:10:52.085 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:10:52.087 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:10:52.088 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:52.100 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:10:52.104 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:52.105 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:52.111 +03:00 [INF] Received HTTP response headers after 4.017ms - 422
2024-02-28 01:10:52.112 +03:00 [INF] End processing HTTP request after 7.7571ms - 422
2024-02-28 01:10:52.143 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:10:52.144 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 40.7292ms
2024-02-28 01:10:52.147 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:52.148 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 63.3268ms
2024-02-28 01:10:52.646 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:10:52.647 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:10:52.648 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:52.649 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:10:52.652 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:52.653 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:52.656 +03:00 [INF] Received HTTP response headers after 1.4448ms - 422
2024-02-28 01:10:52.657 +03:00 [INF] End processing HTTP request after 4.7602ms - 422
2024-02-28 01:10:52.685 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:10:52.686 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 34.2205ms
2024-02-28 01:10:52.688 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:52.689 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 43.2092ms
2024-02-28 01:10:53.081 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:10:53.083 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:10:53.084 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:53.086 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:10:53.091 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:53.092 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:10:53.095 +03:00 [INF] Received HTTP response headers after 1.451ms - 422
2024-02-28 01:10:53.096 +03:00 [INF] End processing HTTP request after 5.6918ms - 422
2024-02-28 01:10:53.127 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:10:53.128 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 37.7431ms
2024-02-28 01:10:53.132 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:10:53.133 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 52.2037ms
2024-02-28 01:13:47.317 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:15:21.273 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:15:21.422 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:15:21.470 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:15:21.474 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:15:21.475 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:15:21.476 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:15:21.477 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:15:21.478 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:15:21.479 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:15:21.525 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:15:21.629 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:15:21.633 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:15:21.637 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:15:21.638 +03:00 [INF] Hosting environment: Development
2024-02-28 01:15:21.639 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:15:21.717 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:15:21.7166755+03:00"
2024-02-28 01:15:21.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:15:22.199 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 260.5593ms
2024-02-28 01:15:22.202 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:15:22.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:15:22.218 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.9719ms
2024-02-28 01:15:22.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.4544ms
2024-02-28 01:15:22.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:15:22.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.4621ms
2024-02-28 01:15:23.217 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:15:23.401 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:15:23.4015063+03:00"
2024-02-28 01:15:24.698 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:15:24.703 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:15:24.784 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:15:24.799 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:15:24.801 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 102.6209ms
2024-02-28 01:15:24.802 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=FBICTRoXata4bqum-wiuWQ - -
2024-02-28 01:15:24.807 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:15:31.740 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:15:31.744 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:15:32.061 +03:00 [INF] Received HTTP response headers after 310.4362ms - 200
2024-02-28 01:15:32.065 +03:00 [INF] End processing HTTP request after 332.2903ms - 200
2024-02-28 01:15:32.070 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:15:37.681 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:15:37.684 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:15:37.696 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:15:37.727 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:15:37.841 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:15:37.842 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:15:37.852 +03:00 [INF] Received HTTP response headers after 8.6678ms - 422
2024-02-28 01:15:37.853 +03:00 [INF] End processing HTTP request after 12.387ms - 422
2024-02-28 01:15:37.966 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:15:37.976 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 240.3452ms
2024-02-28 01:15:37.979 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:15:37.985 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 303.7502ms
2024-02-28 01:16:14.190 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:16:14.192 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:16:14.202 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:16:14.206 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:16:14.209 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:16:14.210 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:16:14.214 +03:00 [INF] Received HTTP response headers after 3.1264ms - 422
2024-02-28 01:16:14.215 +03:00 [INF] End processing HTTP request after 6.4163ms - 422
2024-02-28 01:16:14.248 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:16:14.250 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 41.7385ms
2024-02-28 01:16:14.251 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:16:14.253 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 62.8321ms
2024-02-28 01:34:16.820 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:34:16.821 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:34:16.822 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:34:16.829 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:34:16.835 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:34:16.836 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:34:16.848 +03:00 [INF] Received HTTP response headers after 10.8081ms - 422
2024-02-28 01:34:16.849 +03:00 [INF] End processing HTTP request after 14.3775ms - 422
2024-02-28 01:34:16.883 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:34:16.885 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 52.6796ms
2024-02-28 01:34:16.887 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:34:16.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 67.8933ms
2024-02-28 01:34:17.502 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:34:17.504 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:34:17.504 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:34:17.505 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:34:17.514 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:34:17.515 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:34:17.518 +03:00 [INF] Received HTTP response headers after 1.9419ms - 422
2024-02-28 01:34:17.519 +03:00 [INF] End processing HTTP request after 5.4254ms - 422
2024-02-28 01:34:17.548 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:34:17.550 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 36.5646ms
2024-02-28 01:34:17.551 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:34:17.552 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 49.7887ms
2024-02-28 01:36:01.034 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 01:36:01.039 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 01:36:01.095 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=FBICTRoXata4bqum-wiuWQ - - - 101 - - 1236292.3149ms
2024-02-28 01:36:28.424 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:36:28.425 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:36:28.426 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:36:28.439 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 14.0415ms
2024-02-28 01:36:28.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=WXforSe6ZijO1F4VcYtlKg - -
2024-02-28 01:36:28.440 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:36:32.262 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:36:32.263 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:36:32.267 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:32.269 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:36:32.274 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:32.275 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:32.280 +03:00 [INF] Received HTTP response headers after 3.6784ms - 500
2024-02-28 01:36:32.281 +03:00 [INF] End processing HTTP request after 6.9001ms - 500
2024-02-28 01:36:32.337 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:36:32.338 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 65.1094ms
2024-02-28 01:36:32.339 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:32.341 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 79.1738ms
2024-02-28 01:36:33.239 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:36:33.240 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:36:33.241 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.242 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:36:33.251 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.252 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.257 +03:00 [INF] Received HTTP response headers after 4.2783ms - 500
2024-02-28 01:36:33.259 +03:00 [INF] End processing HTTP request after 8.175ms - 500
2024-02-28 01:36:33.318 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:36:33.320 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 69.4816ms
2024-02-28 01:36:33.321 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.322 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 83.3335ms
2024-02-28 01:36:33.434 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:36:33.436 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:36:33.438 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.439 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:36:33.442 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.443 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.446 +03:00 [INF] Received HTTP response headers after 3.1906ms - 500
2024-02-28 01:36:33.447 +03:00 [INF] End processing HTTP request after 5.7517ms - 500
2024-02-28 01:36:33.507 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:36:33.508 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 66.5861ms
2024-02-28 01:36:33.509 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.510 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 75.6943ms
2024-02-28 01:36:33.627 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:36:33.628 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:36:33.629 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.630 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:36:33.635 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.638 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.648 +03:00 [INF] Received HTTP response headers after 9.063ms - 500
2024-02-28 01:36:33.653 +03:00 [INF] End processing HTTP request after 17.8452ms - 500
2024-02-28 01:36:33.710 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:36:33.712 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 77.2365ms
2024-02-28 01:36:33.713 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.715 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 87.8803ms
2024-02-28 01:36:33.795 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:36:33.796 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:36:33.797 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.798 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:36:33.800 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.801 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:36:33.805 +03:00 [INF] Received HTTP response headers after 2.6178ms - 500
2024-02-28 01:36:33.806 +03:00 [INF] End processing HTTP request after 5.6347ms - 500
2024-02-28 01:36:33.862 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:36:33.863 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 63.2558ms
2024-02-28 01:36:33.864 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:36:33.865 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 70.6804ms
2024-02-28 01:37:28.154 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 01:37:28.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=WXforSe6ZijO1F4VcYtlKg - - - 101 - - 59744.1518ms
2024-02-28 01:37:28.183 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 01:38:02.491 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:38:02.501 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:38:02.502 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:38:02.503 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:38:02.507 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:38:02.509 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:38:20.006 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:38:20.007 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:38:20.008 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:38:20.011 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:38:20.017 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:38:20.018 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:39:42.607 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 100100.4461ms
2024-02-28 01:39:42.610 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:39:42.613 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..
 ---> System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at TgCheckerApi.Services.NotificationService.SendTelegramNotificationAsync(TelegramNotification notificationModels) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Services\NotificationService.cs:line 101
   at TgCheckerApi.Controllers.NotificationController.SendNotification(TelegramNotification model) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Controllers\NotificationController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-28 01:39:42.651 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 100160.2316ms
2024-02-28 01:40:00.099 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 100081.902ms
2024-02-28 01:40:00.100 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:40:00.102 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..
 ---> System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at TgCheckerApi.Services.NotificationService.SendTelegramNotificationAsync(TelegramNotification notificationModels) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Services\NotificationService.cs:line 101
   at TgCheckerApi.Controllers.NotificationController.SendNotification(TelegramNotification model) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Controllers\NotificationController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-28 01:40:00.124 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 100117.8136ms
2024-02-28 01:42:35.234 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228
2024-02-28 01:42:35.240 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:42:35.240 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:42:35.241 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(TgCheckerApi.Models.NotificationModels.TelegramNotification) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:42:35.243 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:42:35.244 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:42:35.255 +03:00 [INF] Received HTTP response headers after 11.0784ms - 500
2024-02-28 01:42:35.257 +03:00 [INF] End processing HTTP request after 13.8543ms - 500
2024-02-28 01:42:35.318 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:42:35.320 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 77.698ms
2024-02-28 01:42:35.323 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:42:35.325 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 228 - 500 - text/plain;+charset=utf-8 90.9736ms
2024-02-28 01:43:32.824 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:43:32.969 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:43:33.005 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:43:33.009 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:43:33.010 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:43:33.011 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:43:33.011 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:43:33.012 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:43:33.014 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:43:33.055 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:43:33.232 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:43:33.233 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:43:33.236 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:43:33.237 +03:00 [INF] Hosting environment: Development
2024-02-28 01:43:33.238 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:43:33.311 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:43:33.3113327+03:00"
2024-02-28 01:43:33.547 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:43:33.802 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 258.0749ms
2024-02-28 01:43:33.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:43:33.811 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:43:33.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.3157ms
2024-02-28 01:43:33.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.7063ms
2024-02-28 01:43:33.858 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:43:33.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.4558ms
2024-02-28 01:43:34.851 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:43:35.033 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:43:35.0337477+03:00"
2024-02-28 01:43:43.185 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:43:43.193 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:43:43.197 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:43:43.282 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:43:43.286 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:43:43.307 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:43:43.344 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:43:43.465 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:43:43.466 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:43:43.487 +03:00 [INF] Received HTTP response headers after 15.2552ms - 422
2024-02-28 01:43:43.491 +03:00 [INF] End processing HTTP request after 26.2425ms - 422
2024-02-28 01:43:43.597 +03:00 [INF] Received HTTP response headers after 309.621ms - 200
2024-02-28 01:43:43.598 +03:00 [INF] End processing HTTP request after 350.6664ms - 200
2024-02-28 01:43:43.599 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:43:43.603 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:43:43.614 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 261.3615ms
2024-02-28 01:43:43.616 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:43:43.622 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 436.8366ms
2024-02-28 01:46:51.381 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:46:51.395 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:46:51.417 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:46:51.421 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 39.3812ms
2024-02-28 01:46:51.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=S-vcZ4B0ycvth5ErsQEZUw - -
2024-02-28 01:46:51.431 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:46:54.607 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:46:54.608 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:46:54.609 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:46:54.610 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 3.2435ms
2024-02-28 01:46:54.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=yN5i3Q5_nlVy1QW1abxmYw - -
2024-02-28 01:46:54.630 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:47:14.371 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:47:14.372 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:47:14.380 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:47:14.382 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:47:14.391 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:47:14.392 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:47:14.397 +03:00 [INF] Received HTTP response headers after 3.5584ms - 500
2024-02-28 01:47:14.398 +03:00 [INF] End processing HTTP request after 6.6962ms - 500
2024-02-28 01:47:14.454 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:47:14.455 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 70.9037ms
2024-02-28 01:47:14.456 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:47:14.457 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 86.9329ms
2024-02-28 01:47:50.936 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:47:50.937 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:47:50.938 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:47:50.939 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:47:50.948 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:47:50.949 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:47:50.956 +03:00 [INF] Received HTTP response headers after 5.9997ms - 422
2024-02-28 01:47:50.957 +03:00 [INF] End processing HTTP request after 9.3553ms - 422
2024-02-28 01:47:51.013 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:47:51.014 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 68.8939ms
2024-02-28 01:47:51.016 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:47:51.016 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 80.5852ms
2024-02-28 01:49:02.767 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:02.768 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:02.769 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:02.770 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:02.774 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:02.777 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:02.782 +03:00 [INF] Received HTTP response headers after 3.8683ms - 422
2024-02-28 01:49:02.783 +03:00 [INF] End processing HTTP request after 8.4454ms - 422
2024-02-28 01:49:02.844 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:02.845 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 71.3184ms
2024-02-28 01:49:02.849 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:02.850 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 83.5869ms
2024-02-28 01:49:04.254 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:04.256 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:04.257 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.258 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:04.269 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.270 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.275 +03:00 [INF] Received HTTP response headers after 3.9646ms - 422
2024-02-28 01:49:04.276 +03:00 [INF] End processing HTTP request after 7.8555ms - 422
2024-02-28 01:49:04.330 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:04.331 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.9743ms
2024-02-28 01:49:04.332 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.334 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 79.6170ms
2024-02-28 01:49:04.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:04.413 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:04.414 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.415 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:04.417 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.418 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.421 +03:00 [INF] Received HTTP response headers after 1.3423ms - 422
2024-02-28 01:49:04.422 +03:00 [INF] End processing HTTP request after 4.9643ms - 422
2024-02-28 01:49:04.474 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:04.477 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 59.9136ms
2024-02-28 01:49:04.480 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.481 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 69.4233ms
2024-02-28 01:49:04.631 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:04.632 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:04.633 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.634 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:04.640 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.641 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.644 +03:00 [INF] Received HTTP response headers after 1.7497ms - 422
2024-02-28 01:49:04.645 +03:00 [INF] End processing HTTP request after 5.0271ms - 422
2024-02-28 01:49:04.700 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:04.701 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 61.2869ms
2024-02-28 01:49:04.704 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.705 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 73.7336ms
2024-02-28 01:49:04.845 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:04.847 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:04.847 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.848 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:04.851 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.852 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:04.855 +03:00 [INF] Received HTTP response headers after 1.4886ms - 422
2024-02-28 01:49:04.857 +03:00 [INF] End processing HTTP request after 5.7756ms - 422
2024-02-28 01:49:04.912 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:04.913 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.6095ms
2024-02-28 01:49:04.915 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:04.916 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 71.2943ms
2024-02-28 01:49:05.066 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:49:05.068 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:05.069 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:05.070 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:05.080 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:05.081 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:05.084 +03:00 [INF] Received HTTP response headers after 2.1292ms - 422
2024-02-28 01:49:05.086 +03:00 [INF] End processing HTTP request after 5.9041ms - 422
2024-02-28 01:49:05.141 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:05.143 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 71.4267ms
2024-02-28 01:49:05.145 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:05.147 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 80.6719ms
2024-02-28 01:49:24.768 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:49:24.770 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:24.771 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:24.772 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:24.782 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:24.782 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:24.789 +03:00 [INF] Received HTTP response headers after 4.9039ms - 422
2024-02-28 01:49:24.791 +03:00 [INF] End processing HTTP request after 9.0154ms - 422
2024-02-28 01:49:24.853 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:24.855 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 74.3563ms
2024-02-28 01:49:24.857 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:24.859 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 90.5984ms
2024-02-28 01:49:26.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:49:26.600 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:26.601 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:26.602 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:26.604 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:26.606 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:26.609 +03:00 [INF] Received HTTP response headers after 1.8878ms - 422
2024-02-28 01:49:26.610 +03:00 [INF] End processing HTTP request after 5.7711ms - 422
2024-02-28 01:49:26.664 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:26.666 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.1391ms
2024-02-28 01:49:26.668 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:26.670 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 71.1338ms
2024-02-28 01:49:26.754 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:49:26.756 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:49:26.757 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:26.758 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:49:26.765 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:26.766 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:49:26.770 +03:00 [INF] Received HTTP response headers after 1.9356ms - 422
2024-02-28 01:49:26.771 +03:00 [INF] End processing HTTP request after 6.0391ms - 422
2024-02-28 01:49:26.825 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:49:26.826 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 61.8849ms
2024-02-28 01:49:26.828 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:49:26.829 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 75.0979ms
2024-02-28 01:51:59.732 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:51:59.733 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:51:59.734 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:51:59.735 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:51:59.741 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:51:59.742 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:51:59.750 +03:00 [INF] Received HTTP response headers after 7.2853ms - 422
2024-02-28 01:51:59.751 +03:00 [INF] End processing HTTP request after 10.601ms - 422
2024-02-28 01:51:59.813 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:51:59.814 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 74.3689ms
2024-02-28 01:51:59.815 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:51:59.816 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 84.4040ms
2024-02-28 01:52:00.318 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:00.320 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:00.321 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.322 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:00.327 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.329 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.331 +03:00 [INF] Received HTTP response headers after 1.553ms - 422
2024-02-28 01:52:00.332 +03:00 [INF] End processing HTTP request after 5.0029ms - 422
2024-02-28 01:52:00.389 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:00.390 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.9561ms
2024-02-28 01:52:00.391 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.392 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 74.0531ms
2024-02-28 01:52:00.594 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:00.596 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:00.597 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.597 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:00.600 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.601 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.603 +03:00 [INF] Received HTTP response headers after 1.4551ms - 422
2024-02-28 01:52:00.604 +03:00 [INF] End processing HTTP request after 4.4099ms - 422
2024-02-28 01:52:00.659 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:00.660 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 60.616ms
2024-02-28 01:52:00.661 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.662 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 67.7913ms
2024-02-28 01:52:00.830 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:00.831 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:00.832 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.834 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:00.836 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.837 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.840 +03:00 [INF] Received HTTP response headers after 2.1202ms - 422
2024-02-28 01:52:00.841 +03:00 [INF] End processing HTTP request after 5.2427ms - 422
2024-02-28 01:52:00.897 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:00.898 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.1269ms
2024-02-28 01:52:00.899 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.900 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 69.6126ms
2024-02-28 01:52:00.981 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:00.985 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:00.986 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:00.987 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:00.996 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:00.998 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.000 +03:00 [INF] Received HTTP response headers after 1.4387ms - 422
2024-02-28 01:52:01.001 +03:00 [INF] End processing HTTP request after 4.7463ms - 422
2024-02-28 01:52:01.059 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.060 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 64.2812ms
2024-02-28 01:52:01.061 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.062 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 81.2062ms
2024-02-28 01:52:01.126 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:01.127 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:01.128 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.129 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:01.133 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.135 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.141 +03:00 [INF] Received HTTP response headers after 1.6726ms - 422
2024-02-28 01:52:01.142 +03:00 [INF] End processing HTTP request after 8.4175ms - 422
2024-02-28 01:52:01.196 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.197 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 66.1997ms
2024-02-28 01:52:01.199 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.200 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 74.0363ms
2024-02-28 01:52:01.362 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:01.364 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:01.364 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.365 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:01.369 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.370 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.372 +03:00 [INF] Received HTTP response headers after 1.2643ms - 422
2024-02-28 01:52:01.373 +03:00 [INF] End processing HTTP request after 4.3877ms - 422
2024-02-28 01:52:01.426 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.427 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 58.3703ms
2024-02-28 01:52:01.429 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.430 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 67.6302ms
2024-02-28 01:52:01.498 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:01.499 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:01.500 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.501 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:01.504 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.505 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.508 +03:00 [INF] Received HTTP response headers after 1.6268ms - 422
2024-02-28 01:52:01.509 +03:00 [INF] End processing HTTP request after 5.1771ms - 422
2024-02-28 01:52:01.570 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.571 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 67.9251ms
2024-02-28 01:52:01.573 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.574 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 76.1480ms
2024-02-28 01:52:01.715 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:01.716 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:01.717 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.718 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:01.721 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.722 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.725 +03:00 [INF] Received HTTP response headers after 1.465ms - 422
2024-02-28 01:52:01.726 +03:00 [INF] End processing HTTP request after 5.258ms - 422
2024-02-28 01:52:01.780 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.782 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 60.9625ms
2024-02-28 01:52:01.783 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.784 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 69.1336ms
2024-02-28 01:52:01.847 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:01.848 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:01.849 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.850 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:01.852 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.853 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:01.856 +03:00 [INF] Received HTTP response headers after 1.4745ms - 422
2024-02-28 01:52:01.857 +03:00 [INF] End processing HTTP request after 5.0926ms - 422
2024-02-28 01:52:01.908 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:01.909 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 57.5801ms
2024-02-28 01:52:01.910 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:01.911 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 64.3477ms
2024-02-28 01:52:02.063 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:02.064 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:02.065 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:02.067 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:02.069 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:02.070 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:02.073 +03:00 [INF] Received HTTP response headers after 1.6277ms - 422
2024-02-28 01:52:02.074 +03:00 [INF] End processing HTTP request after 4.9025ms - 422
2024-02-28 01:52:02.130 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:02.131 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 62.3964ms
2024-02-28 01:52:02.133 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:02.134 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 70.5910ms
2024-02-28 01:52:02.203 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:52:02.204 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:52:02.205 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:02.206 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:52:02.209 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:02.210 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:52:02.213 +03:00 [INF] Received HTTP response headers after 1.3112ms - 422
2024-02-28 01:52:02.213 +03:00 [INF] End processing HTTP request after 4.1831ms - 422
2024-02-28 01:52:02.272 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:52:02.274 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 64.986ms
2024-02-28 01:52:02.275 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:52:02.276 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 73.6601ms
2024-02-28 01:53:35.644 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:53:35.646 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:53:35.647 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:53:35.648 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:53:35.653 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:53:35.654 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:53:35.658 +03:00 [INF] Received HTTP response headers after 3.3485ms - 200
2024-02-28 01:53:35.660 +03:00 [INF] End processing HTTP request after 7.4995ms - 200
2024-02-28 01:53:35.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:53:35.663 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 11.0197ms
2024-02-28 01:53:35.665 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:53:35.666 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 200 - text/plain;+charset=utf-8 21.4892ms
2024-02-28 01:54:17.051 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:54:17.052 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:54:17.053 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:54:17.054 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:54:17.056 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:54:17.057 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:54:18.628 +03:00 [INF] Received HTTP response headers after 1569.9118ms - 422
2024-02-28 01:54:18.629 +03:00 [INF] End processing HTTP request after 1573.2085ms - 422
2024-02-28 01:54:18.687 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 01:54:18.689 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1632.883ms
2024-02-28 01:54:18.690 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:54:18.692 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 500 - text/plain;+charset=utf-8 1640.2741ms
2024-02-28 01:54:40.308 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 01:54:40.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=yN5i3Q5_nlVy1QW1abxmYw - - - 101 - - 465685.5044ms
2024-02-28 01:54:40.365 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 01:54:40.366 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 01:54:40.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=S-vcZ4B0ycvth5ErsQEZUw - - - 101 - - 468977.6987ms
2024-02-28 01:54:43.675 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:54:43.676 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:54:43.677 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:54:43.678 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 2.9434ms
2024-02-28 01:54:43.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=Jiavt8ESTgcOslxavrfGoQ - -
2024-02-28 01:54:43.689 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:54:47.595 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:54:47.596 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:54:47.597 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:54:47.598 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:54:47.600 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:54:47.601 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:54:47.606 +03:00 [INF] Received HTTP response headers after 3.2286ms - 200
2024-02-28 01:54:47.607 +03:00 [INF] End processing HTTP request after 6.676ms - 200
2024-02-28 01:54:47.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:54:47.609 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 9.2937ms
2024-02-28 01:54:47.610 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:54:47.611 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 200 - text/plain;+charset=utf-8 16.2850ms
2024-02-28 01:55:08.299 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:55:08.301 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:55:08.302 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:55:08.303 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:55:08.307 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:55:08.309 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:55:09.247 +03:00 [INF] Received HTTP response headers after 936.504ms - 200
2024-02-28 01:55:09.248 +03:00 [INF] End processing HTTP request after 941.2657ms - 200
2024-02-28 01:55:09.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:55:09.251 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 943.9336ms
2024-02-28 01:55:09.252 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:55:09.253 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 200 - text/plain;+charset=utf-8 953.3881ms
2024-02-28 01:55:28.406 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:55:28.408 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:55:28.410 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:55:28.412 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:55:28.417 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:55:28.419 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:55:29.885 +03:00 [INF] Received HTTP response headers after 1465.3122ms - 200
2024-02-28 01:55:29.886 +03:00 [INF] End processing HTTP request after 1469.2807ms - 200
2024-02-28 01:55:29.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:55:29.888 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1471.5845ms
2024-02-28 01:55:29.889 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:55:29.890 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 200 - text/plain;+charset=utf-8 1484.3076ms
2024-02-28 01:56:04.023 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237
2024-02-28 01:56:04.024 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:56:04.025 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:56:04.026 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:56:04.031 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:56:04.032 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:56:04.180 +03:00 [INF] Received HTTP response headers after 146.1482ms - 200
2024-02-28 01:56:04.181 +03:00 [INF] End processing HTTP request after 150.3637ms - 200
2024-02-28 01:56:04.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:56:04.184 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 153.6847ms
2024-02-28 01:56:04.185 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:56:04.186 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 237 - 200 - text/plain;+charset=utf-8 163.1148ms
2024-02-28 01:56:49.850 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:56:50.068 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:56:50.112 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:56:50.117 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:56:50.118 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:56:50.119 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:56:50.120 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:56:50.121 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:56:50.123 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:56:50.166 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:56:50.277 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:56:50.279 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:56:50.282 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:56:50.284 +03:00 [INF] Hosting environment: Development
2024-02-28 01:56:50.285 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:56:50.364 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:56:50.3637457+03:00"
2024-02-28 01:56:50.720 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:56:50.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 264.5991ms
2024-02-28 01:56:50.990 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:56:50.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:56:50.997 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.1168ms
2024-02-28 01:56:51.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.3161ms
2024-02-28 01:56:51.038 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:56:51.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.1195ms
2024-02-28 01:56:51.986 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:56:52.161 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:56:52.1615096+03:00"
2024-02-28 01:56:53.805 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:56:53.813 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:56:53.876 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:56:53.900 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:56:53.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=lk62ropams53nfuQpMxN-g - -
2024-02-28 01:56:53.904 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 98.7438ms
2024-02-28 01:56:53.909 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:57:00.347 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:57:00.351 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:57:00.659 +03:00 [INF] Received HTTP response headers after 301.2825ms - 200
2024-02-28 01:57:00.663 +03:00 [INF] End processing HTTP request after 323.2348ms - 200
2024-02-28 01:57:00.669 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:57:08.723 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:57:08.726 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:57:08.730 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:57:08.762 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:57:08.891 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:57:08.892 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:57:08.903 +03:00 [INF] Received HTTP response headers after 9.929ms - 200
2024-02-28 01:57:08.904 +03:00 [INF] End processing HTTP request after 12.8187ms - 200
2024-02-28 01:57:08.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:57:08.926 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 154.2671ms
2024-02-28 01:57:08.929 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:57:08.936 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 200 - text/plain;+charset=utf-8 212.4130ms
2024-02-28 01:57:48.566 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:57:48.731 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:57:48.767 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:57:48.771 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:57:48.772 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:57:48.773 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:57:48.774 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:57:48.775 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:57:48.776 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:57:48.817 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:57:48.906 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:57:48.907 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:57:48.914 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:57:48.914 +03:00 [INF] Hosting environment: Development
2024-02-28 01:57:48.915 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:57:49.002 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:57:49.0015890+03:00"
2024-02-28 01:57:49.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:57:49.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 261.4655ms
2024-02-28 01:57:49.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:57:49.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:57:49.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.2070ms
2024-02-28 01:57:49.504 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.0580ms
2024-02-28 01:57:49.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:57:49.661 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.2304ms
2024-02-28 01:57:50.544 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:57:50.731 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:57:50.7319360+03:00"
2024-02-28 01:57:54.032 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:57:54.038 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:57:54.109 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:57:54.124 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:57:54.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=R6D9dSekeVn-ECK-h5giCw - -
2024-02-28 01:57:54.127 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 94.6404ms
2024-02-28 01:57:54.129 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:57:59.020 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:57:59.024 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:57:59.372 +03:00 [INF] Received HTTP response headers after 341.6788ms - 200
2024-02-28 01:57:59.375 +03:00 [INF] End processing HTTP request after 362.5606ms - 200
2024-02-28 01:57:59.380 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:58:06.754 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236
2024-02-28 01:58:06.756 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:58:06.760 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:58:06.793 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:58:06.913 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:58:06.914 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:58:06.924 +03:00 [INF] Received HTTP response headers after 8.7376ms - 200
2024-02-28 01:58:06.926 +03:00 [INF] End processing HTTP request after 12.49ms - 200
2024-02-28 01:58:06.937 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:58:06.946 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 145.3822ms
2024-02-28 01:58:06.948 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:58:06.953 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 236 - 200 - text/plain;+charset=utf-8 198.8290ms
2024-02-28 01:58:41.778 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-28 01:58:41.952 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-02-28 01:58:41.990 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-02-28 01:58:41.995 +03:00 [INF] Quartz Scheduler created
2024-02-28 01:58:41.996 +03:00 [INF] RAMJobStore initialized.
2024-02-28 01:58:41.997 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-02-28 01:58:41.998 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-02-28 01:58:41.999 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-02-28 01:58:42.000 +03:00 [INF] JobFactory set to: TgCheckerApi.Job.QuartzJobFactory
2024-02-28 01:58:42.044 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-02-28 01:58:42.141 +03:00 [INF] Now listening on: http://localhost:7256
2024-02-28 01:58:42.142 +03:00 [INF] Now listening on: http://localhost:5244
2024-02-28 01:58:42.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-28 01:58:42.147 +03:00 [INF] Hosting environment: Development
2024-02-28 01:58:42.148 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-02-28 01:58:42.228 +03:00 [INF] RecalculateTopPosJob started at "2024-02-28T01:58:42.2283211+03:00"
2024-02-28 01:58:42.678 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-02-28 01:58:42.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 265.0185ms
2024-02-28 01:58:42.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-02-28 01:58:42.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-02-28 01:58:42.957 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.7107ms
2024-02-28 01:58:42.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.4008ms
2024-02-28 01:58:42.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-02-28 01:58:43.131 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.6598ms
2024-02-28 01:58:43.775 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-02-28 01:58:43.947 +03:00 [INF] RecalculateTopPosJob completed at "2024-02-28T01:58:43.9475938+03:00"
2024-02-28 01:58:44.192 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-02-28 01:58:44.197 +03:00 [WRN] Failed to determine the https port for redirect.
2024-02-28 01:58:44.264 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-02-28 01:58:44.278 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-02-28 01:58:44.279 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 87.6382ms
2024-02-28 01:58:44.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=GksALwwwfUdoXXrKCDcJWA - -
2024-02-28 01:58:44.282 +03:00 [INF] Executing endpoint '/BotHub'
2024-02-28 01:58:52.234 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:58:52.237 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-02-28 01:58:52.551 +03:00 [INF] Received HTTP response headers after 307.4219ms - 200
2024-02-28 01:58:52.555 +03:00 [INF] End processing HTTP request after 328.0897ms - 200
2024-02-28 01:58:52.560 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-02-28 01:59:00.353 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:59:00.355 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:59:00.360 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:59:00.396 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:59:00.523 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:59:00.525 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:59:00.536 +03:00 [INF] Received HTTP response headers after 9.8336ms - 200
2024-02-28 01:59:00.537 +03:00 [INF] End processing HTTP request after 13.9856ms - 200
2024-02-28 01:59:00.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:59:00.559 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 154.4588ms
2024-02-28 01:59:00.562 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:59:00.567 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 214.3221ms
2024-02-28 01:59:44.541 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 01:59:44.542 +03:00 [INF] CORS policy execution successful.
2024-02-28 01:59:44.545 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:59:44.551 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 01:59:44.554 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:59:44.556 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 01:59:44.562 +03:00 [INF] Received HTTP response headers after 5.5385ms - 200
2024-02-28 01:59:44.563 +03:00 [INF] End processing HTTP request after 9.2436ms - 200
2024-02-28 01:59:44.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 01:59:44.566 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 13.0839ms
2024-02-28 01:59:44.567 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 01:59:44.568 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 26.3292ms
2024-02-28 02:00:52.461 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:00:52.462 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:00:52.464 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:00:52.465 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:00:52.476 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:00:52.479 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:00:53.224 +03:00 [INF] Received HTTP response headers after 743.9464ms - 500
2024-02-28 02:00:53.225 +03:00 [INF] End processing HTTP request after 748.4398ms - 500
2024-02-28 02:00:53.272 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-28 02:00:53.273 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 805.4606ms
2024-02-28 02:00:53.275 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:00:53.276 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 500 - text/plain;+charset=utf-8 815.3053ms
2024-02-28 02:01:38.879 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:01:38.881 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:01:38.882 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:01:38.883 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:01:38.889 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:01:38.891 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:01:39.908 +03:00 [INF] Received HTTP response headers after 1011.7447ms - 200
2024-02-28 02:01:39.910 +03:00 [INF] End processing HTTP request after 1020.7715ms - 200
2024-02-28 02:01:39.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:01:39.913 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1027.4942ms
2024-02-28 02:01:39.914 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:01:39.916 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1036.6467ms
2024-02-28 02:03:38.416 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:03:38.418 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:03:38.421 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:38.422 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:03:38.428 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:38.430 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:39.610 +03:00 [INF] Received HTTP response headers after 1178.6483ms - 200
2024-02-28 02:03:39.611 +03:00 [INF] End processing HTTP request after 1183.3067ms - 200
2024-02-28 02:03:39.613 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:03:39.614 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1187.7527ms
2024-02-28 02:03:39.615 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:39.616 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1199.8935ms
2024-02-28 02:03:45.612 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:03:45.614 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:03:45.615 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:45.616 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:03:45.619 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:45.621 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:46.695 +03:00 [INF] Received HTTP response headers after 1069.8974ms - 200
2024-02-28 02:03:46.697 +03:00 [INF] End processing HTTP request after 1077.5856ms - 200
2024-02-28 02:03:46.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:03:46.699 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1081.8321ms
2024-02-28 02:03:46.701 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:46.702 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1089.4713ms
2024-02-28 02:03:47.155 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:03:47.156 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:03:47.157 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:47.158 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:03:47.162 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:47.163 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:03:48.233 +03:00 [INF] Received HTTP response headers after 1068.5946ms - 200
2024-02-28 02:03:48.234 +03:00 [INF] End processing HTTP request after 1072.5746ms - 200
2024-02-28 02:03:48.236 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:03:48.237 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1076.6714ms
2024-02-28 02:03:48.239 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:03:48.240 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1085.1301ms
2024-02-28 02:05:36.666 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:05:36.667 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:05:36.668 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:36.669 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:05:36.674 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:36.675 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:37.853 +03:00 [INF] Received HTTP response headers after 1175.082ms - 200
2024-02-28 02:05:37.854 +03:00 [INF] End processing HTTP request after 1180.5472ms - 200
2024-02-28 02:05:37.856 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:05:37.857 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1186.2883ms
2024-02-28 02:05:37.859 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:37.860 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1194.2473ms
2024-02-28 02:05:38.302 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:05:38.304 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:05:38.304 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:38.305 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:05:38.313 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:38.314 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:39.468 +03:00 [INF] Received HTTP response headers after 1152.8557ms - 200
2024-02-28 02:05:39.470 +03:00 [INF] End processing HTTP request after 1156.8668ms - 200
2024-02-28 02:05:39.471 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:05:39.473 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1160.7213ms
2024-02-28 02:05:39.474 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:39.476 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1173.3498ms
2024-02-28 02:05:39.977 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234
2024-02-28 02:05:39.979 +03:00 [INF] CORS policy execution successful.
2024-02-28 02:05:39.981 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:39.982 +03:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(System.Collections.Generic.List`1[TgCheckerApi.Models.NotificationModels.TelegramNotification]) on controller TgCheckerApi.Controllers.NotificationController (TgCheckerApi).
2024-02-28 02:05:39.985 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:39.987 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/send_notifications"
2024-02-28 02:05:41.066 +03:00 [INF] Received HTTP response headers after 1078.5516ms - 200
2024-02-28 02:05:41.068 +03:00 [INF] End processing HTTP request after 1082.4075ms - 200
2024-02-28 02:05:41.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-28 02:05:41.071 +03:00 [INF] Executed action TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi) in 1086.6214ms
2024-02-28 02:05:41.072 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.NotificationController.SendNotification (TgCheckerApi)'
2024-02-28 02:05:41.074 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Notification/SendToTelegram application/json-patch+json 234 - 200 - text/plain;+charset=utf-8 1096.5412ms
2024-02-28 02:06:09.520 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Websockets\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-02-28 02:06:09.524 +03:00 [INF] Executed endpoint '/BotHub'
2024-02-28 02:06:09.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=GksALwwwfUdoXXrKCDcJWA - - - 101 - - 445291.2546ms
