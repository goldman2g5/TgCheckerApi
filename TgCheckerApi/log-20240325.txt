2024-03-25 07:38:50.383 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:38:50.701 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:38:50.759 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:38:50.760 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:38:50.761 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:38:50.763 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:38:50.764 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:38:50.765 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:38:50.767 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:38:50.832 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:38:51.312 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:38:51.313 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:38:51.316 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:38:51.317 +03:00 [INF] Hosting environment: Development
2024-03-25 07:38:51.317 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:38:51.354 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:38:51.355 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:38:51.381 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:38:51.3809042+03:00"
2024-03-25 07:38:51.391 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:38:51.3913142+03:00"
2024-03-25 07:38:52.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger - -
2024-03-25 07:38:53.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger - - - 301 0 - 779.3189ms
2024-03-25 07:38:53.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:38:54.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 1000.8431ms
2024-03-25 07:38:54.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/swagger-ui-standalone-preset.js - -
2024-03-25 07:38:54.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:38:54.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/swagger-ui-bundle.js - -
2024-03-25 07:38:54.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/swagger-ui.css - -
2024-03-25 07:38:54.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.7165ms
2024-03-25 07:38:54.448 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_vs/browserLink - -
2024-03-25 07:38:54.728 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-25 07:38:54.728 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-25 07:38:54.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 280.6922ms
2024-03-25 07:38:54.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/swagger-ui.css - - - 200 144929 text/css 293.9730ms
2024-03-25 07:38:54.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 295.9337ms
2024-03-25 07:38:54.746 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-25 07:38:54.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 311.7964ms
2024-03-25 07:38:54.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:38:54.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/favicon-32x32.png - -
2024-03-25 07:38:54.903 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-03-25 07:38:54.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/favicon-32x32.png - - - 200 628 image/png 1.8516ms
2024-03-25 07:38:55.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.3990ms
2024-03-25 07:38:58.204 +03:00 [INF] Executed DbCommand (298ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:38:58.208 +03:00 [INF] Executed DbCommand (309ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:38:58.241 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:38:58.362 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:38:58.3625728+03:00"
2024-03-25 07:39:01.745 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:39:01.748 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:39:02.302 +03:00 [INF] Received HTTP response headers after 549.8263ms - 200
2024-03-25 07:39:02.304 +03:00 [INF] End processing HTTP request after 562.5981ms - 200
2024-03-25 07:39:02.307 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-03-25 07:40:37.445 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:40:37.613 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:40:37.653 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:40:37.654 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:40:37.659 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:40:37.659 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:40:37.660 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:40:37.661 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:40:37.662 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:40:37.711 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:40:37.849 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:40:37.855 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:40:37.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:40:37.859 +03:00 [INF] Hosting environment: Development
2024-03-25 07:40:37.860 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:40:37.919 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:40:37.920 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:40:37.941 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:40:37.9402544+03:00"
2024-03-25 07:40:37.945 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:40:37.9454846+03:00"
2024-03-25 07:40:39.440 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:40:39.440 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:40:39.475 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:40:39.589 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:40:39.5896560+03:00"
2024-03-25 07:40:40.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:40:48.098 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:40:48.103 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:40:58.035 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:40:58.223 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:40:58.266 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:40:58.271 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:40:58.273 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:40:58.274 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:40:58.274 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:40:58.275 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:40:58.277 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:40:58.327 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:40:58.506 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:40:58.507 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:40:58.510 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:40:58.511 +03:00 [INF] Hosting environment: Development
2024-03-25 07:40:58.512 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:40:58.553 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:40:58.554 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:40:58.579 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:40:58.5747851+03:00"
2024-03-25 07:40:58.580 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:40:58.5798295+03:00"
2024-03-25 07:40:58.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:40:59.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:40:59.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 320.2564ms
2024-03-25 07:40:59.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.6091ms
2024-03-25 07:40:59.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_vs/browserLink - -
2024-03-25 07:40:59.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.7336ms
2024-03-25 07:40:59.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:40:59.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.9856ms
2024-03-25 07:41:00.128 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:41:00.128 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:41:00.167 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:41:00.290 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:41:00.2901361+03:00"
2024-03-25 07:41:08.744 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:41:08.750 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:41:18.591 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 47
2024-03-25 07:41:18.600 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:41:18.736 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:41:18.787 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:41:18.922 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-25 07:41:18.985 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 188.8539ms
2024-03-25 07:41:18.988 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:41:18.992 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 47 - 400 253 application/problem+json;+charset=utf-8 401.2548ms
2024-03-25 07:41:54.965 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:41:55.139 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:41:55.184 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:41:55.188 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:41:55.189 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:41:55.190 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:41:55.192 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:41:55.193 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:41:55.194 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:41:55.253 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:41:55.403 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:41:55.403 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:41:55.407 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:41:55.408 +03:00 [INF] Hosting environment: Development
2024-03-25 07:41:55.409 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:41:55.449 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:41:55.450 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:41:55.472 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:41:55.4703183+03:00"
2024-03-25 07:41:55.475 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:41:55.4758642+03:00"
2024-03-25 07:41:55.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:41:56.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:41:56.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 288.0157ms
2024-03-25 07:41:56.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_vs/browserLink - -
2024-03-25 07:41:56.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.6757ms
2024-03-25 07:41:56.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.3560ms
2024-03-25 07:41:56.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:41:56.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.9946ms
2024-03-25 07:41:57.062 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:41:57.062 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:41:57.099 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:41:57.238 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:41:57.2387306+03:00"
2024-03-25 07:42:05.623 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:42:05.627 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:42:06.570 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:42:06.579 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:42:06.711 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:42:06.757 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:42:06.883 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:42:06.884 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:42:06.916 +03:00 [INF] Received HTTP response headers after 23.6541ms - 422
2024-03-25 07:42:06.920 +03:00 [INF] End processing HTTP request after 37.3145ms - 422
2024-03-25 07:42:06.937 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:42:06.950 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 183.6684ms
2024-03-25 07:42:06.954 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:42:06.962 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 422 - text/plain;+charset=utf-8 392.1527ms
2024-03-25 07:42:55.663 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:42:55.678 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:42:55.682 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:42:55.684 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:42:55.716 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:42:55.717 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:42:55.721 +03:00 [INF] Received HTTP response headers after 2.8468ms - 422
2024-03-25 07:42:55.721 +03:00 [INF] End processing HTTP request after 5.6093ms - 422
2024-03-25 07:42:55.722 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:42:55.723 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 37.9222ms
2024-03-25 07:42:55.724 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:42:55.725 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 422 - text/plain;+charset=utf-8 61.7321ms
2024-03-25 07:43:27.186 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:43:27.406 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:43:27.449 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:43:27.462 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:43:27.463 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:43:27.466 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:43:27.468 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:43:27.469 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:43:27.471 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:43:27.527 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:43:27.700 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:43:27.701 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:43:27.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:43:27.711 +03:00 [INF] Hosting environment: Development
2024-03-25 07:43:27.711 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:43:27.742 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:43:27.743 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:43:27.768 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:43:27.7640511+03:00"
2024-03-25 07:43:27.769 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:43:27.7691828+03:00"
2024-03-25 07:43:28.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:43:28.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:43:28.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 291.5288ms
2024-03-25 07:43:28.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_vs/browserLink - -
2024-03-25 07:43:28.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.6315ms
2024-03-25 07:43:28.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.7694ms
2024-03-25 07:43:28.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:43:28.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.9408ms
2024-03-25 07:43:29.350 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:43:29.350 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:43:29.391 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:43:29.524 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:43:29.5240162+03:00"
2024-03-25 07:43:37.931 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:43:37.936 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:44:03.115 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:44:03.275 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:44:03.331 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:44:03.335 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:44:03.336 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:44:03.337 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:44:03.338 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:44:03.339 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:44:03.341 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:44:03.386 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:44:03.520 +03:00 [INF] Now listening on: https://localhost:7256
2024-03-25 07:44:03.521 +03:00 [INF] Now listening on: https://localhost:5244
2024-03-25 07:44:03.528 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:44:03.530 +03:00 [INF] Hosting environment: Development
2024-03-25 07:44:03.531 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:44:03.573 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:44:03.574 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:44:03.601 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:44:03.5970314+03:00"
2024-03-25 07:44:03.602 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:44:03.6023892+03:00"
2024-03-25 07:44:03.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2024-03-25 07:44:04.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 284.5302ms
2024-03-25 07:44:04.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:44:04.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.4338ms
2024-03-25 07:44:04.155 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_vs/browserLink - -
2024-03-25 07:44:04.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.0582ms
2024-03-25 07:44:04.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:44:04.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.7260ms
2024-03-25 07:44:05.247 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:44:05.247 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:44:05.289 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:44:05.419 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:44:05.4193766+03:00"
2024-03-25 07:44:13.765 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:44:13.770 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:44:22.225 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:44:22.233 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:44:22.340 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:44:22.386 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:44:22.499 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:44:22.500 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:44:22.525 +03:00 [INF] Received HTTP response headers after 18.4853ms - 422
2024-03-25 07:44:22.530 +03:00 [INF] End processing HTTP request after 30.6073ms - 422
2024-03-25 07:44:22.545 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:44:22.557 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 161.6245ms
2024-03-25 07:44:22.561 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:44:22.568 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 422 - text/plain;+charset=utf-8 343.1818ms
2024-03-25 07:45:52.167 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:45:52.171 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:45:52.177 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:45:52.184 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:45:52.187 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:45:52.187 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:45:52.192 +03:00 [INF] Received HTTP response headers after 3.9299ms - 500
2024-03-25 07:45:52.194 +03:00 [INF] End processing HTTP request after 6.9645ms - 500
2024-03-25 07:45:52.195 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:45:52.199 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 13.3207ms
2024-03-25 07:45:52.201 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:45:52.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 35.1603ms
2024-03-25 07:45:53.863 +03:00 [ERR] Error occurred executing UpdateSubscribersJob via HTTP request.
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..
 ---> System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](TIOAdapter adapter, Memory`1 buffer)
   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at TgCheckerApi.Job.UpdateSubscribersJob.Execute(IJobExecutionContext context) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Job\UpdateSubscribersJob.cs:line 49
2024-03-25 07:46:45.285 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:46:45.287 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:46:45.290 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:46:45.291 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:46:45.296 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:46:45.297 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:46:45.302 +03:00 [INF] Received HTTP response headers after 4.0271ms - 500
2024-03-25 07:46:45.304 +03:00 [INF] End processing HTTP request after 7.2315ms - 500
2024-03-25 07:46:45.305 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:46:45.307 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 14.2848ms
2024-03-25 07:46:45.311 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:46:45.312 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 27.8172ms
2024-03-25 07:48:39.834 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 07:48:40.003 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 07:48:40.043 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 07:48:40.048 +03:00 [INF] Quartz Scheduler created
2024-03-25 07:48:40.049 +03:00 [INF] RAMJobStore initialized.
2024-03-25 07:48:40.050 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 07:48:40.051 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 07:48:40.052 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 07:48:40.053 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:48:40.098 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:48:40.197 +03:00 [INF] Now listening on: http://localhost:7256
2024-03-25 07:48:40.199 +03:00 [INF] Now listening on: http://localhost:5244
2024-03-25 07:48:40.203 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 07:48:40.204 +03:00 [INF] Hosting environment: Development
2024-03-25 07:48:40.206 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 07:48:40.298 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 07:48:40.299 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 07:48:40.320 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T07:48:40.3187399+03:00"
2024-03-25 07:48:40.324 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T07:48:40.3244905+03:00"
2024-03-25 07:48:40.445 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger - -
2024-03-25 07:48:40.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger - - - 301 0 - 62.4055ms
2024-03-25 07:48:40.514 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-03-25 07:48:40.523 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-03-25 07:48:40.528 +03:00 [WRN] Failed to determine the https port for redirect.
2024-03-25 07:48:40.608 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-03-25 07:48:40.632 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-03-25 07:48:40.633 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 110.2725ms
2024-03-25 07:48:40.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=bBTWmsngj9MiyVUC0oXuUg - -
2024-03-25 07:48:40.651 +03:00 [INF] Executing endpoint '/BotHub'
2024-03-25 07:48:40.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui.css - -
2024-03-25 07:48:40.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 262.3902ms
2024-03-25 07:48:40.793 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-25 07:48:40.794 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui.css - - - 200 144929 text/css 21.8592ms
2024-03-25 07:48:40.802 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-bundle.js - -
2024-03-25 07:48:40.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 07:48:40.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-03-25 07:48:40.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-standalone-preset.js - -
2024-03-25 07:48:40.814 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-25 07:48:40.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.9910ms
2024-03-25 07:48:40.817 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-25 07:48:40.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 15.9836ms
2024-03-25 07:48:40.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 19.4845ms
2024-03-25 07:48:40.834 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.0618ms
2024-03-25 07:48:40.974 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 07:48:40.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/favicon-32x32.png - -
2024-03-25 07:48:40.995 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-03-25 07:48:41.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/favicon-32x32.png - - - 200 628 image/png 6.3630ms
2024-03-25 07:48:41.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.0882ms
2024-03-25 07:48:42.011 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 07:48:42.011 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 07:48:42.050 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 07:48:42.177 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T07:48:42.1770618+03:00"
2024-03-25 07:48:43.586 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Hubs\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Hubs\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-03-25 07:48:43.587 +03:00 [INF] Executed endpoint '/BotHub'
2024-03-25 07:48:43.634 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=bBTWmsngj9MiyVUC0oXuUg - - - 101 - - 2984.9641ms
2024-03-25 07:48:46.918 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-03-25 07:48:46.921 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-03-25 07:48:46.922 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-03-25 07:48:46.923 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 5.3844ms
2024-03-25 07:48:46.935 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=E3q_XBHvxYthF3BcFPrrHw - -
2024-03-25 07:48:46.936 +03:00 [INF] Executing endpoint '/BotHub'
2024-03-25 07:48:50.473 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:48:50.479 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 07:48:50.862 +03:00 [INF] Received HTTP response headers after 376.273ms - 200
2024-03-25 07:48:50.866 +03:00 [INF] End processing HTTP request after 395.2888ms - 200
2024-03-25 07:48:50.871 +03:00 [INF] Successfully processed all channels via HTTP request at: {DateTime.UtcNow}
2024-03-25 07:48:58.623 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:48:58.627 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:48:58.630 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:48:58.665 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:48:58.768 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:48:58.769 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:48:58.780 +03:00 [INF] Received HTTP response headers after 10.581ms - 500
2024-03-25 07:48:58.781 +03:00 [INF] End processing HTTP request after 13.7827ms - 500
2024-03-25 07:48:58.797 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:48:58.807 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 132.895ms
2024-03-25 07:48:58.809 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:48:58.817 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 193.6193ms
2024-03-25 07:49:15.956 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:49:15.958 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:49:15.964 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:49:15.966 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:49:15.981 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:49:15.982 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:49:15.991 +03:00 [INF] Received HTTP response headers after 6.7491ms - 500
2024-03-25 07:49:15.992 +03:00 [INF] End processing HTTP request after 11.1294ms - 500
2024-03-25 07:49:15.993 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:49:15.994 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 24.2209ms
2024-03-25 07:49:15.995 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:49:15.997 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 41.1962ms
2024-03-25 07:49:32.651 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/getDailyViewsByChannel application/json-patch+json 42
2024-03-25 07:49:32.654 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:49:32.656 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.CallGetDailyViewsByChannel (TgCheckerApi)'
2024-03-25 07:49:32.662 +03:00 [INF] Route matched with {action = "CallGetDailyViewsByChannel", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CallGetDailyViewsByChannel(DailyViewsRequest) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:49:32.678 +03:00 [INF] Starting CallGetDailyViewsByChannel method for ChannelId: 80
2024-03-25 07:49:32.988 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
WHERE c.id = @__p_0
LIMIT 1
2024-03-25 07:49:33.443 +03:00 [INF] Executed DbCommand (284ms) [Parameters=[@__dailyViewsRequest_ChannelId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime), @__endDate_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT v.id, v.date, v.last_message_id, v.sheet, v.updated, v.views
FROM "Channel" AS c
INNER JOIN "StatisticsSheet" AS s ON c.id = s.channel_id
INNER JOIN "ViewsRecord" AS v ON s.id = v.sheet
WHERE c.id = @__dailyViewsRequest_ChannelId_0 AND v.date >= @__startDate_1 AND v.date <= @__endDate_2
ORDER BY v.date
2024-03-25 07:49:33.450 +03:00 [INF] Starting IsUpdateRequiredForChannel method.
2024-03-25 07:49:33.451 +03:00 [INF] Parameters: ChannelId=80, NumberOfDays=7
2024-03-25 07:49:33.452 +03:00 [INF] Outdated threshold set to 360 minutes.
2024-03-25 07:49:33.459 +03:00 [INF] Checking records from 3/18/2024 12:00:00 AM to 3/25/2024 12:00:00 AM.
2024-03-25 07:49:33.472 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dailyViewsRequest_ChannelId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime), @__today_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT v.id, v.date, v.last_message_id, v.sheet, v.updated, v.views
FROM "Channel" AS c
INNER JOIN "StatisticsSheet" AS s ON c.id = s.channel_id
INNER JOIN "ViewsRecord" AS v ON s.id = v.sheet
WHERE c.id = @__dailyViewsRequest_ChannelId_0 AND v.date >= @__startDate_1 AND v.date <= @__today_2
2024-03-25 07:49:33.476 +03:00 [INF] 0 records found in date range.
2024-03-25 07:49:33.476 +03:00 [INF] Update required: True
2024-03-25 07:49:33.477 +03:00 [INF] Data is incomplete for ChannelId: 80. Awaiting new data from WebSocket.
2024-03-25 07:49:33.493 +03:00 [INF] Received request for getDailyViewsByChannel. Request hash: 83de4aa28d23b54b12801a07ba1b39661d4b8b0f0194439cfe7247b4c94b5530
2024-03-25 07:49:42.032 +03:00 [INF] New task completed successfully. Hash: 83de4aa28d23b54b12801a07ba1b39661d4b8b0f0194439cfe7247b4c94b5530
2024-03-25 07:49:42.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__channelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.avatar, t.bumps, t.description, t.flag, t."Hidden", t."IsPartner", t.language, t.last_bump, t.members, t.name, t.notification_sent, t.notifications, t.promo_post, t.promo_post_interval, t.promo_post_last, t.promo_post_sent, t.promo_post_time, t.telegram_id, t."TopPos", t."Url", t."user", s.id, s.channel_id
FROM (
    SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
    FROM "Channel" AS c
    WHERE c.id = @__channelId_0
    LIMIT 1
) AS t
LEFT JOIN "StatisticsSheet" AS s ON t.id = s.channel_id
ORDER BY t.id
2024-03-25 07:49:42.252 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v.id, v.date, v.last_message_id, v.sheet, v.updated, v.views
FROM "ViewsRecord" AS v
WHERE v.sheet = @__p_0
2024-03-25 07:49:42.793 +03:00 [INF] Executed DbCommand (315ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int64), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int64), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime), @p16='?' (DbType = Int64), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (DbType = Int32), @p20='?' (DbType = DateTime), @p21='?' (DbType = Int64), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime), @p26='?' (DbType = Int64), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p31='?' (DbType = Int64), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime), @p34='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p5, @p6, @p7, @p8, @p9)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p10, @p11, @p12, @p13, @p14)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p15, @p16, @p17, @p18, @p19)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p20, @p21, @p22, @p23, @p24)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p25, @p26, @p27, @p28, @p29)
RETURNING id;
INSERT INTO "ViewsRecord" (date, last_message_id, sheet, updated, views)
VALUES (@p30, @p31, @p32, @p33, @p34)
RETURNING id;
2024-03-25 07:49:42.977 +03:00 [INF] Returning data for ChannelId: 80 with 7 view counts
2024-03-25 07:49:42.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TgCheckerApi.Models.BaseModels.ViewsRecord, TgCheckerApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType5`2[[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TgCheckerApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-25 07:49:43.000 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.CallGetDailyViewsByChannel (TgCheckerApi) in 10330.0935ms
2024-03-25 07:49:43.001 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.CallGetDailyViewsByChannel (TgCheckerApi)'
2024-03-25 07:49:43.014 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/getDailyViewsByChannel application/json-patch+json 42 - 200 308 application/json;+charset=utf-8 10363.3555ms
2024-03-25 07:51:13.589 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:51:13.592 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:51:13.594 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:51:13.597 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:51:13.602 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:51:13.603 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:51:13.611 +03:00 [INF] Received HTTP response headers after 5.026ms - 500
2024-03-25 07:51:13.613 +03:00 [INF] End processing HTTP request after 11.0001ms - 500
2024-03-25 07:51:13.614 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:51:13.616 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 15.0863ms
2024-03-25 07:51:13.619 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:51:13.621 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 31.0596ms
2024-03-25 07:51:38.131 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:51:38.133 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:51:38.135 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:51:38.136 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:51:38.140 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:51:38.141 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:51:39.294 +03:00 [INF] Received HTTP response headers after 1151.3655ms - 500
2024-03-25 07:51:39.296 +03:00 [INF] End processing HTTP request after 1156.4346ms - 500
2024-03-25 07:51:39.298 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:51:39.299 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 1159.9066ms
2024-03-25 07:51:39.301 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:51:39.302 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 1171.1115ms
2024-03-25 07:52:19.434 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:52:19.436 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:52:19.437 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:52:19.438 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:52:19.441 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:52:19.443 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:52:19.456 +03:00 [INF] Received HTTP response headers after 12.1142ms - 500
2024-03-25 07:52:19.457 +03:00 [INF] End processing HTTP request after 16.1643ms - 500
2024-03-25 07:52:19.458 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:52:19.460 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 18.9817ms
2024-03-25 07:52:19.462 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:52:19.463 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 28.7944ms
2024-03-25 07:54:00.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:54:00.203 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:54:00.210 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:54:00.211 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:54:00.216 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:54:00.217 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:54:00.223 +03:00 [INF] Received HTTP response headers after 4.1505ms - 500
2024-03-25 07:54:00.224 +03:00 [INF] End processing HTTP request after 8.1357ms - 500
2024-03-25 07:54:00.225 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:54:00.226 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 10.643ms
2024-03-25 07:54:00.228 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:54:00.229 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 47.7508ms
2024-03-25 07:57:21.367 +03:00 [INF] Executed endpoint '/BotHub'
2024-03-25 07:57:21.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/BotHub?id=E3q_XBHvxYthF3BcFPrrHw - - - 101 - - 514470.9703ms
2024-03-25 07:57:21.407 +03:00 [ERR] Failed to invoke hub method 'ReceiveStream'.
System.OperationCanceledException: The underlying connection was closed.
   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()
   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Hubs\BotHub.cs:line 39
   at TgCheckerApi.Websockets.BotHub.ReceiveStream(IAsyncEnumerable`1 stream, String param) in C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\Hubs\BotHub.cs:line 39
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2024-03-25 07:57:24.880 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-03-25 07:57:24.881 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-03-25 07:57:24.882 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-03-25 07:57:24.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 8.5045ms
2024-03-25 07:57:24.901 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=pA752LG8fE7COpj1WYcsTQ - -
2024-03-25 07:57:24.901 +03:00 [INF] Executing endpoint '/BotHub'
2024-03-25 07:57:27.294 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:57:27.296 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:57:27.297 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:57:27.298 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:57:27.304 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:57:27.306 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:57:27.311 +03:00 [INF] Received HTTP response headers after 3.7605ms - 500
2024-03-25 07:57:27.312 +03:00 [INF] End processing HTTP request after 7.34ms - 500
2024-03-25 07:57:27.313 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:57:27.314 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 10.6448ms
2024-03-25 07:57:27.317 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:57:27.319 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 24.4498ms
2024-03-25 07:58:08.483 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46
2024-03-25 07:58:08.485 +03:00 [INF] CORS policy execution successful.
2024-03-25 07:58:08.486 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:58:08.487 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 07:58:08.490 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:58:08.491 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 07:58:23.697 +03:00 [INF] Received HTTP response headers after 15202.6522ms - 500
2024-03-25 07:58:23.698 +03:00 [INF] End processing HTTP request after 15207.9051ms - 500
2024-03-25 07:58:23.699 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-03-25 07:58:23.700 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 15210.4382ms
2024-03-25 07:58:23.702 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 07:58:23.703 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 46 - 500 - text/plain;+charset=utf-8 15219.3677ms
2024-03-25 08:05:26.747 +03:00 [INF] User profile is available. Using 'C:\Users\timar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-25 08:05:26.904 +03:00 [INF] Default Quartz.NET properties loaded from embedded resource file
2024-03-25 08:05:26.944 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-03-25 08:05:26.949 +03:00 [INF] Quartz Scheduler created
2024-03-25 08:05:26.950 +03:00 [INF] RAMJobStore initialized.
2024-03-25 08:05:26.951 +03:00 [INF] Quartz Scheduler 3.8.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-03-25 08:05:26.952 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-03-25 08:05:26.953 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-03-25 08:05:26.954 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 08:05:26.996 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 08:05:27.104 +03:00 [INF] Now listening on: http://localhost:7256
2024-03-25 08:05:27.105 +03:00 [INF] Now listening on: http://localhost:5244
2024-03-25 08:05:27.109 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-25 08:05:27.110 +03:00 [INF] Hosting environment: Development
2024-03-25 08:05:27.111 +03:00 [INF] Content root path: C:\Users\timar\source\Repos\goldman2g5\TgCheckerApi\TgCheckerApi\
2024-03-25 08:05:27.185 +03:00 [INF] JobFactory set to: TgCheckerApi.Quartz.QuartzJobFactory
2024-03-25 08:05:27.186 +03:00 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2024-03-25 08:05:27.211 +03:00 [INF] LoadDelayedNotificationsJob started at "2024-03-25T08:05:27.2069862+03:00"
2024-03-25 08:05:27.211 +03:00 [INF] RecalculateTopPosJob started at "2024-03-25T08:05:27.2117458+03:00"
2024-03-25 08:05:27.415 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0
2024-03-25 08:05:27.470 +03:00 [WRN] Failed to determine the https port for redirect.
2024-03-25 08:05:27.565 +03:00 [INF] Executing endpoint '/BotHub/negotiate'
2024-03-25 08:05:27.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger - -
2024-03-25 08:05:27.605 +03:00 [INF] Executed endpoint '/BotHub/negotiate'
2024-03-25 08:05:27.606 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger - - - 301 0 - 30.0930ms
2024-03-25 08:05:27.606 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/BotHub/negotiate?negotiateVersion=0 - 0 - 200 273 application/json 195.8908ms
2024-03-25 08:05:27.611 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/BotHub?id=EbOUBg2cCBDQs4LvtYcAHA - -
2024-03-25 08:05:27.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/index.html - -
2024-03-25 08:05:27.614 +03:00 [INF] Executing endpoint '/BotHub'
2024-03-25 08:05:27.848 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui.css - -
2024-03-25 08:05:27.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-standalone-preset.js - -
2024-03-25 08:05:27.850 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-bundle.js - -
2024-03-25 08:05:27.857 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 242.6419ms
2024-03-25 08:05:27.870 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_vs/browserLink - -
2024-03-25 08:05:27.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2024-03-25 08:05:27.905 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.7864ms
2024-03-25 08:05:27.913 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-25 08:05:27.913 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-25 08:05:27.913 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-25 08:05:27.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 69.4721ms
2024-03-25 08:05:27.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 67.1622ms
2024-03-25 08:05:27.921 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.2016ms
2024-03-25 08:05:27.921 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/swagger-ui.css - - - 200 144929 text/css 73.1113ms
2024-03-25 08:05:28.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - -
2024-03-25 08:05:28.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7256/swagger/favicon-32x32.png - -
2024-03-25 08:05:28.033 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-03-25 08:05:28.035 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/favicon-32x32.png - - - 200 628 image/png 4.8242ms
2024-03-25 08:05:28.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.8181ms
2024-03-25 08:05:28.933 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT n.id, n.channel_id, n.content, n.content_type, n.date, n.target_telegram, n.type_id, n.user_id
FROM "NotificationDelayedTask" AS n
2024-03-25 08:05:28.933 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
ORDER BY c.bumps DESC
2024-03-25 08:05:28.973 +03:00 [INF] All NotificationDelayedTasks are loaded and scheduled.
2024-03-25 08:05:29.103 +03:00 [INF] RecalculateTopPosJob completed at "2024-03-25T08:05:29.1037429+03:00"
2024-03-25 08:05:37.368 +03:00 [INF] Start processing HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 08:05:37.374 +03:00 [INF] Sending HTTP request POST "https://tgsearch.info:8443/api/Bot/getSubscribersByChannels"
2024-03-25 08:05:37.678 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 42
2024-03-25 08:05:37.683 +03:00 [INF] CORS policy execution successful.
2024-03-25 08:05:37.688 +03:00 [INF] Executing endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 08:05:37.725 +03:00 [INF] Route matched with {action = "GetDailyViewsFastApiTest", controller = "Bot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyViewsFastApiTest(ChannelQuery) on controller TgCheckerApi.Controllers.BotController (TgCheckerApi).
2024-03-25 08:05:38.041 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.avatar, c.bumps, c.description, c.flag, c."Hidden", c."IsPartner", c.language, c.last_bump, c.members, c.name, c.notification_sent, c.notifications, c.promo_post, c.promo_post_interval, c.promo_post_last, c.promo_post_sent, c.promo_post_time, c.telegram_id, c."TopPos", c."Url", c."user"
FROM "Channel" AS c
WHERE c.id = @__p_0
LIMIT 1
2024-03-25 08:05:38.054 +03:00 [INF] Start processing HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 08:05:38.055 +03:00 [INF] Sending HTTP request POST "http://127.0.0.1:8000/get_daily_views/"
2024-03-25 08:05:48.967 +03:00 [INF] Received HTTP response headers after 10904.1297ms - 200
2024-03-25 08:05:48.971 +03:00 [INF] End processing HTTP request after 10917.49ms - 200
2024-03-25 08:05:49.007 +03:00 [INF] Executing OkObjectResult, writing value of type 'Newtonsoft.Json.Linq.JArray'.
2024-03-25 08:05:49.044 +03:00 [INF] Executed action TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi) in 11307.2088ms
2024-03-25 08:05:49.047 +03:00 [INF] Executed endpoint 'TgCheckerApi.Controllers.BotController.GetDailyViewsFastApiTest (TgCheckerApi)'
2024-03-25 08:05:49.068 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7256/api/Bot/GetDailyViewsFastApiTest application/json-patch+json 42 - 200 392 application/json;+charset=utf-8 11389.4396ms
